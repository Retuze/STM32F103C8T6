ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"fifo.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.fifo_s_destroy,"ax",%progbits
  18              		.align	1
  19              		.global	fifo_s_destroy
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	fifo_s_destroy:
  25              	.LVL0:
  26              	.LFB48:
  27              		.file 1 "User/fifo/fifo.c"
   1:User/fifo/fifo.c **** //******************************************************************************************
   2:User/fifo/fifo.c **** //!
   3:User/fifo/fifo.c **** //! \file   FIFO.c
   4:User/fifo/fifo.c **** //! \brief  Genernal FIFO Model Interface.
   5:User/fifo/fifo.c **** //!         You can use uniform FIFO Model to manager Any type of data element.
   6:User/fifo/fifo.c **** //! \author cedar
   7:User/fifo/fifo.c **** //! \changed damom.li
   8:User/fifo/fifo.c **** //! \changed sky.huang
   9:User/fifo/fifo.c **** //! \date   2016-11-03//! \date   2013-12-16
  10:User/fifo/fifo.c **** //! \email  xuesong5825718@gmail.com
  11:User/fifo/fifo.c **** //!
  12:User/fifo/fifo.c **** //! \version: 1.1 add fifo_s_gets_noprotect function
  13:User/fifo/fifo.c **** //!
  14:User/fifo/fifo.c **** //! Copyright (c) 2013 Cedar MIT License
  15:User/fifo/fifo.c **** //!
  16:User/fifo/fifo.c **** //! Permission is hereby granted, free of charge, to any person obtaining a copy
  17:User/fifo/fifo.c **** //! of this software and associated documentation files (the "Software"), to deal
  18:User/fifo/fifo.c **** //! in the Software without restriction, including without limitation the rights to
  19:User/fifo/fifo.c **** //! use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
  20:User/fifo/fifo.c **** //! the Software, and to permit persons to whom the Software is furnished to do so,
  21:User/fifo/fifo.c **** //! subject to the following conditions:
  22:User/fifo/fifo.c **** //!
  23:User/fifo/fifo.c **** //! The above copyright notice and this permission notice shall be included in all
  24:User/fifo/fifo.c **** //! copies or substantial portions of the Software.
  25:User/fifo/fifo.c **** //!
  26:User/fifo/fifo.c **** //! THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  27:User/fifo/fifo.c **** //! IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  28:User/fifo/fifo.c **** //! FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  29:User/fifo/fifo.c **** //! AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  30:User/fifo/fifo.c **** //! LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  31:User/fifo/fifo.c **** //! OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 2


  32:User/fifo/fifo.c **** //! IN THE SOFTWARE.
  33:User/fifo/fifo.c **** ///
  34:User/fifo/fifo.c **** //******************************************************************************************
  35:User/fifo/fifo.c **** #include "fifo.h"
  36:User/fifo/fifo.c **** 
  37:User/fifo/fifo.c **** //******************************************************************************************
  38:User/fifo/fifo.c **** //!                     ASSERT MACRO
  39:User/fifo/fifo.c **** //******************************************************************************************
  40:User/fifo/fifo.c **** #ifndef ASSERT
  41:User/fifo/fifo.c **** 
  42:User/fifo/fifo.c **** #ifdef FIFO_NDEBUG
  43:User/fifo/fifo.c **** #define ASSERT(x)
  44:User/fifo/fifo.c **** #else
  45:User/fifo/fifo.c **** #define ASSERT(x)                                           \
  46:User/fifo/fifo.c ****     do                                                      \
  47:User/fifo/fifo.c ****     {                                                       \
  48:User/fifo/fifo.c ****         if (!(x))                                           \
  49:User/fifo/fifo.c ****             printf("[assert]: %s, %d", __FILE__, __LINE__); \
  50:User/fifo/fifo.c ****         while (!(x))                                        \
  51:User/fifo/fifo.c ****             ;                                               \
  52:User/fifo/fifo.c ****     } while (0)
  53:User/fifo/fifo.c **** #endif
  54:User/fifo/fifo.c **** 
  55:User/fifo/fifo.c **** #endif // ASSERT
  56:User/fifo/fifo.c **** 
  57:User/fifo/fifo.c **** #ifdef USE_DYNAMIC_MEMORY
  58:User/fifo/fifo.c **** //******************************************************************************************
  59:User/fifo/fifo.c **** //
  60:User/fifo/fifo.c **** //! \brief  Create An New FIFO Instance(in Single Mode).
  61:User/fifo/fifo.c **** //! This function allocate enought room for N blocks fifo elements, then return the pointer
  62:User/fifo/fifo.c **** //! of FIFO.
  63:User/fifo/fifo.c **** //!
  64:User/fifo/fifo.c **** //! \param  [in] uint_cnt is count of fifo elements.
  65:User/fifo/fifo.c **** //! \retval The Pointer of FIFO instance, return NULL is failure to allocate memory.
  66:User/fifo/fifo.c **** //!
  67:User/fifo/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
  68:User/fifo/fifo.c **** //!            Header file before use this function.
  69:User/fifo/fifo.c **** //! \note   -# Functions FIFO_Create and FIFO_Destory must be used in pairs.
  70:User/fifo/fifo.c **** //!
  71:User/fifo/fifo.c **** //******************************************************************************************
  72:User/fifo/fifo.c **** fifo_s_t *fifo_s_create(int uint_cnt)
  73:User/fifo/fifo.c **** {
  74:User/fifo/fifo.c ****     fifo_s_t *p_fifo = NULL;  //!< FIFO Pointer
  75:User/fifo/fifo.c ****     char *p_base_addr = NULL; //!< Memory Base Address
  76:User/fifo/fifo.c **** 
  77:User/fifo/fifo.c ****     //! Check input parameters.
  78:User/fifo/fifo.c ****     ASSERT(uint_cnt);
  79:User/fifo/fifo.c **** 
  80:User/fifo/fifo.c ****     //! Allocate Memory for pointer of new FIFO Control Block
  81:User/fifo/fifo.c ****     p_fifo = (fifo_s_t *)malloc(sizeof(fifo_s_t));
  82:User/fifo/fifo.c ****     if (NULL == p_fifo)
  83:User/fifo/fifo.c ****     {
  84:User/fifo/fifo.c ****         //! Allocate Failure, exit now
  85:User/fifo/fifo.c ****         return (NULL);
  86:User/fifo/fifo.c ****     }
  87:User/fifo/fifo.c ****     //! Allocate Memory for pointer of new FIFO
  88:User/fifo/fifo.c ****     p_base_addr = malloc(uint_cnt);
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 3


  89:User/fifo/fifo.c ****     if (NULL == p_base_addr)
  90:User/fifo/fifo.c ****     {
  91:User/fifo/fifo.c ****         //! Allocate Failure, exit now
  92:User/fifo/fifo.c ****         free(p_fifo);
  93:User/fifo/fifo.c ****         return (NULL);
  94:User/fifo/fifo.c ****     }
  95:User/fifo/fifo.c ****     //! Initialize General FIFO Module
  96:User/fifo/fifo.c ****     fifo_s_init(p_fifo, p_base_addr, uint_cnt);
  97:User/fifo/fifo.c **** 
  98:User/fifo/fifo.c ****     return (p_fifo);
  99:User/fifo/fifo.c **** }
 100:User/fifo/fifo.c **** 
 101:User/fifo/fifo.c **** //******************************************************************************************
 102:User/fifo/fifo.c **** //
 103:User/fifo/fifo.c **** //! \brief  Destory FIFO Instance(in Single Mode).
 104:User/fifo/fifo.c **** //!  This function release memory, then reinit the FIFO struct.
 105:User/fifo/fifo.c **** //!
 106:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of FIFO instance
 107:User/fifo/fifo.c **** //! \retval None.
 108:User/fifo/fifo.c **** //!
 109:User/fifo/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
 110:User/fifo/fifo.c **** //!            Header file before use this function.
 111:User/fifo/fifo.c **** //
 112:User/fifo/fifo.c **** //******************************************************************************************
 113:User/fifo/fifo.c **** void fifo_s_destroy(fifo_s_t *p_fifo)
 114:User/fifo/fifo.c **** {
  28              		.loc 1 114 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 114 1 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 0446     		mov	r4, r0
 115:User/fifo/fifo.c ****     //! Check input parameters.
 116:User/fifo/fifo.c ****     ASSERT(p_fifo);
  39              		.loc 1 116 19 is_stmt 1 view .LVU2
 117:User/fifo/fifo.c ****     ASSERT(p_fifo->p_start_addr);
  40              		.loc 1 117 33 view .LVU3
 118:User/fifo/fifo.c **** 
 119:User/fifo/fifo.c ****     //! Free FIFO memory
 120:User/fifo/fifo.c ****     free(p_fifo->p_start_addr);
  41              		.loc 1 120 5 view .LVU4
  42 0004 0068     		ldr	r0, [r0]
  43              	.LVL1:
  44              		.loc 1 120 5 is_stmt 0 view .LVU5
  45 0006 FFF7FEFF 		bl	free
  46              	.LVL2:
 121:User/fifo/fifo.c ****     //! Free FIFO Control Block memory
 122:User/fifo/fifo.c ****     free(p_fifo);
  47              		.loc 1 122 5 is_stmt 1 view .LVU6
  48 000a 2046     		mov	r0, r4
  49 000c FFF7FEFF 		bl	free
  50              	.LVL3:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 4


 123:User/fifo/fifo.c **** 
 124:User/fifo/fifo.c ****     return; //!< Success
  51              		.loc 1 124 5 view .LVU7
 125:User/fifo/fifo.c **** }
  52              		.loc 1 125 1 is_stmt 0 view .LVU8
  53 0010 10BD     		pop	{r4, pc}
  54              		.loc 1 125 1 view .LVU9
  55              		.cfi_endproc
  56              	.LFE48:
  58              		.section	.text.fifo_s_init,"ax",%progbits
  59              		.align	1
  60              		.global	fifo_s_init
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	fifo_s_init:
  66              	.LVL4:
  67              	.LFB49:
 126:User/fifo/fifo.c **** 
 127:User/fifo/fifo.c **** #endif // USE_DYNAMIC_MEMORY
 128:User/fifo/fifo.c **** 
 129:User/fifo/fifo.c **** //******************************************************************************************
 130:User/fifo/fifo.c **** //
 131:User/fifo/fifo.c **** //! \brief  Initialize an static FIFO struct(in single mode).
 132:User/fifo/fifo.c **** //!
 133:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO instance.
 134:User/fifo/fifo.c **** //! \param  [in] p_base_addr is the base address of pre-allocate memory, such as array.
 135:User/fifo/fifo.c **** //! \param  [in] uint_cnt is count of fifo elements.
 136:User/fifo/fifo.c **** //! \retval 0 if initialize successfully, otherwise return -1.
 137:User/fifo/fifo.c **** //
 138:User/fifo/fifo.c **** //******************************************************************************************
 139:User/fifo/fifo.c **** int fifo_s_init(fifo_s_t *p_fifo, void *p_base_addr, int uint_cnt)
 140:User/fifo/fifo.c **** {
  68              		.loc 1 140 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		@ link register save eliminated.
  73              		.loc 1 140 1 is_stmt 0 view .LVU11
  74 0000 0346     		mov	r3, r0
 141:User/fifo/fifo.c ****     //! Check input parameters.
 142:User/fifo/fifo.c ****     ASSERT(p_fifo);
  75              		.loc 1 142 19 is_stmt 1 view .LVU12
 143:User/fifo/fifo.c ****     ASSERT(p_base_addr);
  76              		.loc 1 143 24 view .LVU13
 144:User/fifo/fifo.c ****     ASSERT(uint_cnt);
  77              		.loc 1 144 21 view .LVU14
 145:User/fifo/fifo.c **** 
 146:User/fifo/fifo.c ****     //! Initialize FIFO Control Block.
 147:User/fifo/fifo.c ****     p_fifo->p_start_addr = (char *)p_base_addr;
  78              		.loc 1 147 5 view .LVU15
  79              		.loc 1 147 26 is_stmt 0 view .LVU16
  80 0002 0160     		str	r1, [r0]
 148:User/fifo/fifo.c ****     p_fifo->p_end_addr = (char *)p_base_addr + uint_cnt - 1;
  81              		.loc 1 148 5 is_stmt 1 view .LVU17
  82              		.loc 1 148 57 is_stmt 0 view .LVU18
  83 0004 501E     		subs	r0, r2, #1
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 5


  84              	.LVL5:
  85              		.loc 1 148 57 view .LVU19
  86 0006 0844     		add	r0, r0, r1
  87              		.loc 1 148 24 view .LVU20
  88 0008 5860     		str	r0, [r3, #4]
 149:User/fifo/fifo.c ****     p_fifo->free_num = uint_cnt;
  89              		.loc 1 149 5 is_stmt 1 view .LVU21
  90              		.loc 1 149 22 is_stmt 0 view .LVU22
  91 000a 9A60     		str	r2, [r3, #8]
 150:User/fifo/fifo.c ****     p_fifo->used_num = 0;
  92              		.loc 1 150 5 is_stmt 1 view .LVU23
  93              		.loc 1 150 22 is_stmt 0 view .LVU24
  94 000c 0020     		movs	r0, #0
  95 000e D860     		str	r0, [r3, #12]
 151:User/fifo/fifo.c ****     p_fifo->p_read_addr = (char *)p_base_addr;
  96              		.loc 1 151 5 is_stmt 1 view .LVU25
  97              		.loc 1 151 25 is_stmt 0 view .LVU26
  98 0010 1961     		str	r1, [r3, #16]
 152:User/fifo/fifo.c ****     p_fifo->p_write_addr = (char *)p_base_addr;
  99              		.loc 1 152 5 is_stmt 1 view .LVU27
 100              		.loc 1 152 26 is_stmt 0 view .LVU28
 101 0012 5961     		str	r1, [r3, #20]
 153:User/fifo/fifo.c **** 
 154:User/fifo/fifo.c ****     //! Inint mutex for new FIFO
 155:User/fifo/fifo.c ****     MUTEX_INIT(p_fifo->mutex);
 102              		.loc 1 155 5 is_stmt 1 view .LVU29
 103              		.loc 1 155 5 view .LVU30
 104 0014 9861     		str	r0, [r3, #24]
 105              		.loc 1 155 5 view .LVU31
 156:User/fifo/fifo.c **** 
 157:User/fifo/fifo.c ****     return (0);
 106              		.loc 1 157 5 view .LVU32
 158:User/fifo/fifo.c **** }
 107              		.loc 1 158 1 is_stmt 0 view .LVU33
 108 0016 7047     		bx	lr
 109              		.cfi_endproc
 110              	.LFE49:
 112              		.section	.text.fifo_s_create,"ax",%progbits
 113              		.align	1
 114              		.global	fifo_s_create
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 119              	fifo_s_create:
 120              	.LVL6:
 121              	.LFB47:
  73:User/fifo/fifo.c ****     fifo_s_t *p_fifo = NULL;  //!< FIFO Pointer
 122              		.loc 1 73 1 is_stmt 1 view -0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
  73:User/fifo/fifo.c ****     fifo_s_t *p_fifo = NULL;  //!< FIFO Pointer
 126              		.loc 1 73 1 is_stmt 0 view .LVU35
 127 0000 70B5     		push	{r4, r5, r6, lr}
 128              	.LCFI1:
 129              		.cfi_def_cfa_offset 16
 130              		.cfi_offset 4, -16
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 6


 131              		.cfi_offset 5, -12
 132              		.cfi_offset 6, -8
 133              		.cfi_offset 14, -4
 134 0002 0446     		mov	r4, r0
  74:User/fifo/fifo.c ****     char *p_base_addr = NULL; //!< Memory Base Address
 135              		.loc 1 74 5 is_stmt 1 view .LVU36
 136              	.LVL7:
  75:User/fifo/fifo.c **** 
 137              		.loc 1 75 5 view .LVU37
  78:User/fifo/fifo.c **** 
 138              		.loc 1 78 21 view .LVU38
  81:User/fifo/fifo.c ****     if (NULL == p_fifo)
 139              		.loc 1 81 5 view .LVU39
  81:User/fifo/fifo.c ****     if (NULL == p_fifo)
 140              		.loc 1 81 26 is_stmt 0 view .LVU40
 141 0004 1C20     		movs	r0, #28
 142              	.LVL8:
  81:User/fifo/fifo.c ****     if (NULL == p_fifo)
 143              		.loc 1 81 26 view .LVU41
 144 0006 FFF7FEFF 		bl	malloc
 145              	.LVL9:
  82:User/fifo/fifo.c ****     {
 146              		.loc 1 82 5 is_stmt 1 view .LVU42
  82:User/fifo/fifo.c ****     {
 147              		.loc 1 82 8 is_stmt 0 view .LVU43
 148 000a 0546     		mov	r5, r0
 149 000c 48B1     		cbz	r0, .L4
  88:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 150              		.loc 1 88 5 is_stmt 1 view .LVU44
  88:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 151              		.loc 1 88 19 is_stmt 0 view .LVU45
 152 000e 2046     		mov	r0, r4
 153              	.LVL10:
  88:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 154              		.loc 1 88 19 view .LVU46
 155 0010 FFF7FEFF 		bl	malloc
 156              	.LVL11:
  89:User/fifo/fifo.c ****     {
 157              		.loc 1 89 5 is_stmt 1 view .LVU47
  89:User/fifo/fifo.c ****     {
 158              		.loc 1 89 8 is_stmt 0 view .LVU48
 159 0014 0646     		mov	r6, r0
 160 0016 30B1     		cbz	r0, .L8
  96:User/fifo/fifo.c **** 
 161              		.loc 1 96 5 is_stmt 1 view .LVU49
 162 0018 2246     		mov	r2, r4
 163 001a 0146     		mov	r1, r0
 164 001c 2846     		mov	r0, r5
 165              	.LVL12:
  96:User/fifo/fifo.c **** 
 166              		.loc 1 96 5 is_stmt 0 view .LVU50
 167 001e FFF7FEFF 		bl	fifo_s_init
 168              	.LVL13:
  98:User/fifo/fifo.c **** }
 169              		.loc 1 98 5 is_stmt 1 view .LVU51
 170              	.L4:
  99:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 7


 171              		.loc 1 99 1 is_stmt 0 view .LVU52
 172 0022 2846     		mov	r0, r5
 173 0024 70BD     		pop	{r4, r5, r6, pc}
 174              	.LVL14:
 175              	.L8:
  92:User/fifo/fifo.c ****         return (NULL);
 176              		.loc 1 92 9 is_stmt 1 view .LVU53
 177 0026 2846     		mov	r0, r5
 178              	.LVL15:
  92:User/fifo/fifo.c ****         return (NULL);
 179              		.loc 1 92 9 is_stmt 0 view .LVU54
 180 0028 FFF7FEFF 		bl	free
 181              	.LVL16:
  93:User/fifo/fifo.c ****     }
 182              		.loc 1 93 9 is_stmt 1 view .LVU55
  93:User/fifo/fifo.c ****     }
 183              		.loc 1 93 16 is_stmt 0 view .LVU56
 184 002c 3546     		mov	r5, r6
 185              	.LVL17:
  93:User/fifo/fifo.c ****     }
 186              		.loc 1 93 16 view .LVU57
 187 002e F8E7     		b	.L4
 188              		.cfi_endproc
 189              	.LFE47:
 191              		.section	.text.fifo_s_put,"ax",%progbits
 192              		.align	1
 193              		.global	fifo_s_put
 194              		.syntax unified
 195              		.thumb
 196              		.thumb_func
 198              	fifo_s_put:
 199              	.LVL18:
 200              	.LFB50:
 159:User/fifo/fifo.c **** 
 160:User/fifo/fifo.c **** //******************************************************************************************
 161:User/fifo/fifo.c **** //
 162:User/fifo/fifo.c **** //! \brief  Put an element into FIFO(in single mode).
 163:User/fifo/fifo.c **** //!
 164:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 165:User/fifo/fifo.c **** //! \param  [in]  element is the data element you want to put
 166:User/fifo/fifo.c **** //!
 167:User/fifo/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 168:User/fifo/fifo.c **** //
 169:User/fifo/fifo.c **** //******************************************************************************************
 170:User/fifo/fifo.c **** int fifo_s_put(fifo_s_t *p_fifo, char element)
 171:User/fifo/fifo.c **** {
 201              		.loc 1 171 1 is_stmt 1 view -0
 202              		.cfi_startproc
 203              		@ args = 0, pretend = 0, frame = 0
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205              		@ link register save eliminated.
 172:User/fifo/fifo.c ****     //! Check input parameters.
 173:User/fifo/fifo.c ****     ASSERT(p_fifo);
 206              		.loc 1 173 19 view .LVU59
 174:User/fifo/fifo.c **** 
 175:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 207              		.loc 1 175 5 view .LVU60
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 8


 208              		.loc 1 175 20 is_stmt 0 view .LVU61
 209 0000 8368     		ldr	r3, [r0, #8]
 210              		.loc 1 175 8 view .LVU62
 211 0002 D3B1     		cbz	r3, .L13
 176:User/fifo/fifo.c ****     {
 177:User/fifo/fifo.c ****         //! Error, FIFO is full!
 178:User/fifo/fifo.c ****         return (-1);
 179:User/fifo/fifo.c ****     }
 180:User/fifo/fifo.c **** 
 181:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 212              		.loc 1 181 5 is_stmt 1 view .LVU63
 213              		.loc 1 181 5 view .LVU64
 214              	.LBB58:
 215              	.LBI58:
 216              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 9


  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 10


 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 217              		.loc 2 140 27 view .LVU65
 218              	.LBB59:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 219              		.loc 2 142 3 view .LVU66
 220              		.syntax unified
 221              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 222 0004 72B6     		cpsid i
 223              	@ 0 "" 2
 224              		.thumb
 225              		.syntax unified
 226              	.LBE59:
 227              	.LBE58:
 228              		.loc 1 181 5 view .LVU67
 182:User/fifo/fifo.c **** 
 183:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 11


 229              		.loc 1 183 5 view .LVU68
 230              		.loc 1 183 20 is_stmt 0 view .LVU69
 231 0006 8368     		ldr	r3, [r0, #8]
 232              		.loc 1 183 8 view .LVU70
 233 0008 9BB1     		cbz	r3, .L14
 184:User/fifo/fifo.c ****     {
 185:User/fifo/fifo.c ****         //! Error, FIFO is full!
 186:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 187:User/fifo/fifo.c ****         return (-1);
 188:User/fifo/fifo.c ****     }
 189:User/fifo/fifo.c **** 
 190:User/fifo/fifo.c ****     if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 234              		.loc 1 190 5 is_stmt 1 view .LVU71
 235              		.loc 1 190 15 is_stmt 0 view .LVU72
 236 000a 4269     		ldr	r2, [r0, #20]
 237              		.loc 1 190 38 view .LVU73
 238 000c 4368     		ldr	r3, [r0, #4]
 239              		.loc 1 190 8 view .LVU74
 240 000e 9A42     		cmp	r2, r3
 241 0010 01D9     		bls	.L12
 191:User/fifo/fifo.c ****     {
 192:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr;
 242              		.loc 1 192 9 is_stmt 1 view .LVU75
 243              		.loc 1 192 38 is_stmt 0 view .LVU76
 244 0012 0368     		ldr	r3, [r0]
 245              		.loc 1 192 30 view .LVU77
 246 0014 4361     		str	r3, [r0, #20]
 247              	.L12:
 193:User/fifo/fifo.c ****     }
 194:User/fifo/fifo.c **** 
 195:User/fifo/fifo.c ****     *(p_fifo->p_write_addr) = element;
 248              		.loc 1 195 5 is_stmt 1 view .LVU78
 249              		.loc 1 195 13 is_stmt 0 view .LVU79
 250 0016 4369     		ldr	r3, [r0, #20]
 251              		.loc 1 195 29 view .LVU80
 252 0018 1970     		strb	r1, [r3]
 196:User/fifo/fifo.c ****     p_fifo->p_write_addr++;
 253              		.loc 1 196 5 is_stmt 1 view .LVU81
 254              		.loc 1 196 11 is_stmt 0 view .LVU82
 255 001a 4369     		ldr	r3, [r0, #20]
 256              		.loc 1 196 25 view .LVU83
 257 001c 0133     		adds	r3, r3, #1
 258 001e 4361     		str	r3, [r0, #20]
 197:User/fifo/fifo.c ****     p_fifo->free_num--;
 259              		.loc 1 197 5 is_stmt 1 view .LVU84
 260              		.loc 1 197 11 is_stmt 0 view .LVU85
 261 0020 8368     		ldr	r3, [r0, #8]
 262              		.loc 1 197 21 view .LVU86
 263 0022 013B     		subs	r3, r3, #1
 264 0024 8360     		str	r3, [r0, #8]
 198:User/fifo/fifo.c ****     p_fifo->used_num++;
 265              		.loc 1 198 5 is_stmt 1 view .LVU87
 266              		.loc 1 198 11 is_stmt 0 view .LVU88
 267 0026 C368     		ldr	r3, [r0, #12]
 268              		.loc 1 198 21 view .LVU89
 269 0028 0133     		adds	r3, r3, #1
 270 002a C360     		str	r3, [r0, #12]
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 12


 199:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 271              		.loc 1 199 5 is_stmt 1 view .LVU90
 272              		.loc 1 199 5 view .LVU91
 273              	.LBB60:
 274              	.LBI60:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 275              		.loc 2 129 27 view .LVU92
 276              	.LBB61:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 277              		.loc 2 131 3 view .LVU93
 278              		.syntax unified
 279              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 280 002c 62B6     		cpsie i
 281              	@ 0 "" 2
 282              		.thumb
 283              		.syntax unified
 284              	.LBE61:
 285              	.LBE60:
 286              		.loc 1 199 5 view .LVU94
 200:User/fifo/fifo.c **** 
 201:User/fifo/fifo.c ****     return (0);
 287              		.loc 1 201 5 view .LVU95
 288              		.loc 1 201 12 is_stmt 0 view .LVU96
 289 002e 0020     		movs	r0, #0
 290              	.LVL19:
 291              		.loc 1 201 12 view .LVU97
 292 0030 7047     		bx	lr
 293              	.LVL20:
 294              	.L14:
 186:User/fifo/fifo.c ****         return (-1);
 295              		.loc 1 186 9 is_stmt 1 view .LVU98
 186:User/fifo/fifo.c ****         return (-1);
 296              		.loc 1 186 9 view .LVU99
 297              	.LBB62:
 298              	.LBI62:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 299              		.loc 2 129 27 view .LVU100
 300              	.LBB63:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 301              		.loc 2 131 3 view .LVU101
 302              		.syntax unified
 303              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 304 0032 62B6     		cpsie i
 305              	@ 0 "" 2
 306              		.thumb
 307              		.syntax unified
 308              	.LBE63:
 309              	.LBE62:
 186:User/fifo/fifo.c ****         return (-1);
 310              		.loc 1 186 9 view .LVU102
 187:User/fifo/fifo.c ****     }
 311              		.loc 1 187 9 view .LVU103
 187:User/fifo/fifo.c ****     }
 312              		.loc 1 187 16 is_stmt 0 view .LVU104
 313 0034 4FF0FF30 		mov	r0, #-1
 314              	.LVL21:
 187:User/fifo/fifo.c ****     }
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 13


 315              		.loc 1 187 16 view .LVU105
 316 0038 7047     		bx	lr
 317              	.LVL22:
 318              	.L13:
 178:User/fifo/fifo.c ****     }
 319              		.loc 1 178 16 view .LVU106
 320 003a 4FF0FF30 		mov	r0, #-1
 321              	.LVL23:
 202:User/fifo/fifo.c **** }
 322              		.loc 1 202 1 view .LVU107
 323 003e 7047     		bx	lr
 324              		.cfi_endproc
 325              	.LFE50:
 327              		.section	.text.fifo_s_puts,"ax",%progbits
 328              		.align	1
 329              		.global	fifo_s_puts
 330              		.syntax unified
 331              		.thumb
 332              		.thumb_func
 334              	fifo_s_puts:
 335              	.LVL24:
 336              	.LFB51:
 203:User/fifo/fifo.c **** 
 204:User/fifo/fifo.c **** //******************************************************************************************
 205:User/fifo/fifo.c **** //
 206:User/fifo/fifo.c **** //! \brief  Put some elements into FIFO(in single mode).
 207:User/fifo/fifo.c **** //!
 208:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 209:User/fifo/fifo.c **** //! \param  [in]  p_source is the data element you want to put
 210:User/fifo/fifo.c **** //! \param  [in]  the number of elements
 211:User/fifo/fifo.c **** //! \retval the number of really write data, otherwise return -1.
 212:User/fifo/fifo.c **** //
 213:User/fifo/fifo.c **** //******************************************************************************************
 214:User/fifo/fifo.c **** int fifo_s_puts(fifo_s_t *p_fifo, char *p_source, int len)
 215:User/fifo/fifo.c **** {
 337              		.loc 1 215 1 is_stmt 1 view -0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341              		.loc 1 215 1 is_stmt 0 view .LVU109
 342 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 343              	.LCFI2:
 344              		.cfi_def_cfa_offset 24
 345              		.cfi_offset 4, -24
 346              		.cfi_offset 5, -20
 347              		.cfi_offset 6, -16
 348              		.cfi_offset 7, -12
 349              		.cfi_offset 8, -8
 350              		.cfi_offset 14, -4
 216:User/fifo/fifo.c ****     int retval;
 351              		.loc 1 216 5 is_stmt 1 view .LVU110
 217:User/fifo/fifo.c ****     int len_to_end;
 352              		.loc 1 217 5 view .LVU111
 218:User/fifo/fifo.c ****     int len_from_start;
 353              		.loc 1 218 5 view .LVU112
 219:User/fifo/fifo.c **** 
 220:User/fifo/fifo.c ****     ASSERT(p_fifo);
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 14


 354              		.loc 1 220 19 view .LVU113
 221:User/fifo/fifo.c **** 
 222:User/fifo/fifo.c ****     if (NULL == p_source)
 355              		.loc 1 222 5 view .LVU114
 356              		.loc 1 222 8 is_stmt 0 view .LVU115
 357 0004 0029     		cmp	r1, #0
 358 0006 36D0     		beq	.L21
 359 0008 0446     		mov	r4, r0
 360 000a 0F46     		mov	r7, r1
 223:User/fifo/fifo.c ****     {
 224:User/fifo/fifo.c ****         return -1;
 225:User/fifo/fifo.c ****     }
 226:User/fifo/fifo.c **** 
 227:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 361              		.loc 1 227 5 is_stmt 1 view .LVU116
 362              		.loc 1 227 20 is_stmt 0 view .LVU117
 363 000c 8568     		ldr	r5, [r0, #8]
 364              		.loc 1 227 8 view .LVU118
 365 000e F5B1     		cbz	r5, .L15
 228:User/fifo/fifo.c ****     {
 229:User/fifo/fifo.c ****         return 0;
 230:User/fifo/fifo.c ****     }
 231:User/fifo/fifo.c **** 
 232:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 366              		.loc 1 232 5 is_stmt 1 view .LVU119
 367              		.loc 1 232 5 view .LVU120
 368              	.LBB64:
 369              	.LBI64:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 370              		.loc 2 140 27 view .LVU121
 371              	.LBB65:
 372              		.loc 2 142 3 view .LVU122
 373              		.syntax unified
 374              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 375 0010 72B6     		cpsid i
 376              	@ 0 "" 2
 377              		.thumb
 378              		.syntax unified
 379              	.LBE65:
 380              	.LBE64:
 381              		.loc 1 232 5 view .LVU123
 233:User/fifo/fifo.c **** 
 234:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 382              		.loc 1 234 5 view .LVU124
 383              		.loc 1 234 20 is_stmt 0 view .LVU125
 384 0012 8568     		ldr	r5, [r0, #8]
 385              		.loc 1 234 8 view .LVU126
 386 0014 F5B1     		cbz	r5, .L23
 235:User/fifo/fifo.c ****     {
 236:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 237:User/fifo/fifo.c ****         return 0;
 238:User/fifo/fifo.c ****     }
 239:User/fifo/fifo.c **** 
 240:User/fifo/fifo.c ****     if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 387              		.loc 1 240 5 is_stmt 1 view .LVU127
 388              		.loc 1 240 15 is_stmt 0 view .LVU128
 389 0016 4369     		ldr	r3, [r0, #20]
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 15


 390              		.loc 1 240 38 view .LVU129
 391 0018 4668     		ldr	r6, [r0, #4]
 392              		.loc 1 240 8 view .LVU130
 393 001a B342     		cmp	r3, r6
 394 001c 01D9     		bls	.L18
 241:User/fifo/fifo.c ****     {
 242:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr;
 395              		.loc 1 242 9 is_stmt 1 view .LVU131
 396              		.loc 1 242 38 is_stmt 0 view .LVU132
 397 001e 0368     		ldr	r3, [r0]
 398              		.loc 1 242 30 view .LVU133
 399 0020 4361     		str	r3, [r0, #20]
 400              	.L18:
 243:User/fifo/fifo.c ****     }
 244:User/fifo/fifo.c **** 
 245:User/fifo/fifo.c ****     len = (len < p_fifo->free_num) ? len : p_fifo->free_num;
 401              		.loc 1 245 5 is_stmt 1 view .LVU134
 402              		.loc 1 245 9 is_stmt 0 view .LVU135
 403 0022 9542     		cmp	r5, r2
 404 0024 A8BF     		it	ge
 405 0026 1546     		movge	r5, r2
 406              	.LVL25:
 246:User/fifo/fifo.c ****     len_to_end = p_fifo->p_end_addr - p_fifo->p_write_addr + 1;
 407              		.loc 1 246 5 is_stmt 1 view .LVU136
 408              		.loc 1 246 45 is_stmt 0 view .LVU137
 409 0028 6069     		ldr	r0, [r4, #20]
 410              	.LVL26:
 411              		.loc 1 246 37 view .LVU138
 412 002a 361A     		subs	r6, r6, r0
 413              		.loc 1 246 16 view .LVU139
 414 002c 0136     		adds	r6, r6, #1
 415              	.LVL27:
 247:User/fifo/fifo.c **** 
 248:User/fifo/fifo.c ****     if (len_to_end >= len) //no rollback
 416              		.loc 1 248 5 is_stmt 1 view .LVU140
 417              		.loc 1 248 8 is_stmt 0 view .LVU141
 418 002e B542     		cmp	r5, r6
 419 0030 12DC     		bgt	.L19
 249:User/fifo/fifo.c ****     {
 250:User/fifo/fifo.c ****         len_to_end = len;
 420              		.loc 1 250 9 is_stmt 1 view .LVU142
 421              	.LVL28:
 251:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 422              		.loc 1 251 9 view .LVU143
 423 0032 2A46     		mov	r2, r5
 424 0034 3946     		mov	r1, r7
 425              	.LVL29:
 426              		.loc 1 251 9 is_stmt 0 view .LVU144
 427 0036 FFF7FEFF 		bl	memcpy
 428              	.LVL30:
 252:User/fifo/fifo.c ****         p_fifo->p_write_addr += len_to_end;
 429              		.loc 1 252 9 is_stmt 1 view .LVU145
 430              		.loc 1 252 30 is_stmt 0 view .LVU146
 431 003a 6369     		ldr	r3, [r4, #20]
 432 003c 2B44     		add	r3, r3, r5
 433 003e 6361     		str	r3, [r4, #20]
 434              	.LVL31:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 16


 435              	.L20:
 253:User/fifo/fifo.c ****     }
 254:User/fifo/fifo.c ****     else //rollback
 255:User/fifo/fifo.c ****     {
 256:User/fifo/fifo.c ****         len_from_start = len - len_to_end;
 257:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 258:User/fifo/fifo.c ****         memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 259:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr + len_from_start;
 260:User/fifo/fifo.c ****     }
 261:User/fifo/fifo.c **** 
 262:User/fifo/fifo.c ****     p_fifo->free_num -= len;
 436              		.loc 1 262 5 is_stmt 1 view .LVU147
 437              		.loc 1 262 22 is_stmt 0 view .LVU148
 438 0040 A368     		ldr	r3, [r4, #8]
 439 0042 5B1B     		subs	r3, r3, r5
 440 0044 A360     		str	r3, [r4, #8]
 263:User/fifo/fifo.c ****     p_fifo->used_num += len;
 441              		.loc 1 263 5 is_stmt 1 view .LVU149
 442              		.loc 1 263 22 is_stmt 0 view .LVU150
 443 0046 E368     		ldr	r3, [r4, #12]
 444 0048 2B44     		add	r3, r3, r5
 445 004a E360     		str	r3, [r4, #12]
 264:User/fifo/fifo.c ****     retval = len;
 446              		.loc 1 264 5 is_stmt 1 view .LVU151
 447              	.LVL32:
 265:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 448              		.loc 1 265 5 view .LVU152
 449              		.loc 1 265 5 view .LVU153
 450              	.LBB66:
 451              	.LBI66:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 452              		.loc 2 129 27 view .LVU154
 453              	.LBB67:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 454              		.loc 2 131 3 view .LVU155
 455              		.syntax unified
 456              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 457 004c 62B6     		cpsie i
 458              	@ 0 "" 2
 459              		.thumb
 460              		.syntax unified
 461              	.LBE67:
 462              	.LBE66:
 463              		.loc 1 265 5 view .LVU156
 266:User/fifo/fifo.c **** 
 267:User/fifo/fifo.c ****     return retval;
 464              		.loc 1 267 5 view .LVU157
 465              	.LVL33:
 466              	.L15:
 268:User/fifo/fifo.c **** }
 467              		.loc 1 268 1 is_stmt 0 view .LVU158
 468 004e 2846     		mov	r0, r5
 469 0050 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 470              	.LVL34:
 471              	.L23:
 236:User/fifo/fifo.c ****         return 0;
 472              		.loc 1 236 9 is_stmt 1 view .LVU159
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 17


 236:User/fifo/fifo.c ****         return 0;
 473              		.loc 1 236 9 view .LVU160
 474              	.LBB68:
 475              	.LBI68:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 476              		.loc 2 129 27 view .LVU161
 477              	.LBB69:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 478              		.loc 2 131 3 view .LVU162
 479              		.syntax unified
 480              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 481 0054 62B6     		cpsie i
 482              	@ 0 "" 2
 483              		.thumb
 484              		.syntax unified
 485              	.LBE69:
 486              	.LBE68:
 236:User/fifo/fifo.c ****         return 0;
 487              		.loc 1 236 9 view .LVU163
 237:User/fifo/fifo.c ****     }
 488              		.loc 1 237 9 view .LVU164
 237:User/fifo/fifo.c ****     }
 489              		.loc 1 237 16 is_stmt 0 view .LVU165
 490 0056 FAE7     		b	.L15
 491              	.LVL35:
 492              	.L19:
 256:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 493              		.loc 1 256 9 is_stmt 1 view .LVU166
 256:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 494              		.loc 1 256 24 is_stmt 0 view .LVU167
 495 0058 A5EB0608 		sub	r8, r5, r6
 496              	.LVL36:
 257:User/fifo/fifo.c ****         memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 497              		.loc 1 257 9 is_stmt 1 view .LVU168
 498 005c 3246     		mov	r2, r6
 499 005e 3946     		mov	r1, r7
 500              	.LVL37:
 257:User/fifo/fifo.c ****         memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 501              		.loc 1 257 9 is_stmt 0 view .LVU169
 502 0060 FFF7FEFF 		bl	memcpy
 503              	.LVL38:
 258:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr + len_from_start;
 504              		.loc 1 258 9 is_stmt 1 view .LVU170
 505 0064 4246     		mov	r2, r8
 506 0066 B919     		adds	r1, r7, r6
 507 0068 2068     		ldr	r0, [r4]
 508 006a FFF7FEFF 		bl	memcpy
 509              	.LVL39:
 259:User/fifo/fifo.c ****     }
 510              		.loc 1 259 9 view .LVU171
 259:User/fifo/fifo.c ****     }
 511              		.loc 1 259 38 is_stmt 0 view .LVU172
 512 006e 2368     		ldr	r3, [r4]
 259:User/fifo/fifo.c ****     }
 513              		.loc 1 259 53 view .LVU173
 514 0070 4344     		add	r3, r3, r8
 259:User/fifo/fifo.c ****     }
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 18


 515              		.loc 1 259 30 view .LVU174
 516 0072 6361     		str	r3, [r4, #20]
 517 0074 E4E7     		b	.L20
 518              	.LVL40:
 519              	.L21:
 224:User/fifo/fifo.c ****     }
 520              		.loc 1 224 16 view .LVU175
 521 0076 4FF0FF35 		mov	r5, #-1
 522 007a E8E7     		b	.L15
 523              		.cfi_endproc
 524              	.LFE51:
 526              		.section	.text.fifo_s_puts_noprotect,"ax",%progbits
 527              		.align	1
 528              		.global	fifo_s_puts_noprotect
 529              		.syntax unified
 530              		.thumb
 531              		.thumb_func
 533              	fifo_s_puts_noprotect:
 534              	.LVL41:
 535              	.LFB52:
 269:User/fifo/fifo.c **** 
 270:User/fifo/fifo.c **** //******************************************************************************************
 271:User/fifo/fifo.c **** //
 272:User/fifo/fifo.c **** //! \brief  Put some elements into FIFO, ingnore the interrupt
 273:User/fifo/fifo.c **** //!
 274:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 275:User/fifo/fifo.c **** //! \param  [in]  p_source is the data element you want to put
 276:User/fifo/fifo.c **** //! \param  [in]  the number of elements
 277:User/fifo/fifo.c **** //! \retval the number of really write data, otherwise return -1.
 278:User/fifo/fifo.c **** //
 279:User/fifo/fifo.c **** //******************************************************************************************
 280:User/fifo/fifo.c **** int fifo_s_puts_noprotect(fifo_s_t *p_fifo, char *p_source, int len)
 281:User/fifo/fifo.c **** {
 536              		.loc 1 281 1 is_stmt 1 view -0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 0
 539              		@ frame_needed = 0, uses_anonymous_args = 0
 540              		.loc 1 281 1 is_stmt 0 view .LVU177
 541 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 542              	.LCFI3:
 543              		.cfi_def_cfa_offset 24
 544              		.cfi_offset 4, -24
 545              		.cfi_offset 5, -20
 546              		.cfi_offset 6, -16
 547              		.cfi_offset 7, -12
 548              		.cfi_offset 8, -8
 549              		.cfi_offset 14, -4
 282:User/fifo/fifo.c ****     int retval;
 550              		.loc 1 282 5 is_stmt 1 view .LVU178
 283:User/fifo/fifo.c ****     int len_to_end;
 551              		.loc 1 283 5 view .LVU179
 284:User/fifo/fifo.c ****     int len_from_start;
 552              		.loc 1 284 5 view .LVU180
 285:User/fifo/fifo.c **** 
 286:User/fifo/fifo.c ****     ASSERT(p_fifo);
 553              		.loc 1 286 19 view .LVU181
 287:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 19


 288:User/fifo/fifo.c ****     if (NULL == p_source)
 554              		.loc 1 288 5 view .LVU182
 555              		.loc 1 288 8 is_stmt 0 view .LVU183
 556 0004 81B3     		cbz	r1, .L29
 557 0006 0446     		mov	r4, r0
 558 0008 0F46     		mov	r7, r1
 289:User/fifo/fifo.c ****     {
 290:User/fifo/fifo.c ****         return -1;
 291:User/fifo/fifo.c ****     }
 292:User/fifo/fifo.c **** 
 293:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 559              		.loc 1 293 5 is_stmt 1 view .LVU184
 560              		.loc 1 293 20 is_stmt 0 view .LVU185
 561 000a 8568     		ldr	r5, [r0, #8]
 562              		.loc 1 293 8 view .LVU186
 563 000c D5B1     		cbz	r5, .L24
 294:User/fifo/fifo.c ****     {
 295:User/fifo/fifo.c ****         return 0;
 296:User/fifo/fifo.c ****     }
 297:User/fifo/fifo.c **** 
 298:User/fifo/fifo.c ****     if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 564              		.loc 1 298 5 is_stmt 1 view .LVU187
 565              		.loc 1 298 15 is_stmt 0 view .LVU188
 566 000e 4369     		ldr	r3, [r0, #20]
 567              		.loc 1 298 38 view .LVU189
 568 0010 4668     		ldr	r6, [r0, #4]
 569              		.loc 1 298 8 view .LVU190
 570 0012 B342     		cmp	r3, r6
 571 0014 01D9     		bls	.L26
 299:User/fifo/fifo.c ****     {
 300:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr;
 572              		.loc 1 300 9 is_stmt 1 view .LVU191
 573              		.loc 1 300 38 is_stmt 0 view .LVU192
 574 0016 0368     		ldr	r3, [r0]
 575              		.loc 1 300 30 view .LVU193
 576 0018 4361     		str	r3, [r0, #20]
 577              	.L26:
 301:User/fifo/fifo.c ****     }
 302:User/fifo/fifo.c **** 
 303:User/fifo/fifo.c ****     len = (len < p_fifo->free_num) ? len : p_fifo->free_num;
 578              		.loc 1 303 5 is_stmt 1 view .LVU194
 579              		.loc 1 303 9 is_stmt 0 view .LVU195
 580 001a 9542     		cmp	r5, r2
 581 001c A8BF     		it	ge
 582 001e 1546     		movge	r5, r2
 583              	.LVL42:
 304:User/fifo/fifo.c ****     len_to_end = p_fifo->p_end_addr - p_fifo->p_write_addr + 1;
 584              		.loc 1 304 5 is_stmt 1 view .LVU196
 585              		.loc 1 304 45 is_stmt 0 view .LVU197
 586 0020 6069     		ldr	r0, [r4, #20]
 587              	.LVL43:
 588              		.loc 1 304 37 view .LVU198
 589 0022 361A     		subs	r6, r6, r0
 590              		.loc 1 304 16 view .LVU199
 591 0024 0136     		adds	r6, r6, #1
 592              	.LVL44:
 305:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 20


 306:User/fifo/fifo.c ****     if (len_to_end >= len) //no rollback
 593              		.loc 1 306 5 is_stmt 1 view .LVU200
 594              		.loc 1 306 8 is_stmt 0 view .LVU201
 595 0026 B542     		cmp	r5, r6
 596 0028 0FDC     		bgt	.L27
 307:User/fifo/fifo.c ****     {
 308:User/fifo/fifo.c ****         len_to_end = len;
 597              		.loc 1 308 9 is_stmt 1 view .LVU202
 598              	.LVL45:
 309:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 599              		.loc 1 309 9 view .LVU203
 600 002a 2A46     		mov	r2, r5
 601 002c 3946     		mov	r1, r7
 602              	.LVL46:
 603              		.loc 1 309 9 is_stmt 0 view .LVU204
 604 002e FFF7FEFF 		bl	memcpy
 605              	.LVL47:
 310:User/fifo/fifo.c ****         p_fifo->p_write_addr += len_to_end;
 606              		.loc 1 310 9 is_stmt 1 view .LVU205
 607              		.loc 1 310 30 is_stmt 0 view .LVU206
 608 0032 6369     		ldr	r3, [r4, #20]
 609 0034 2B44     		add	r3, r3, r5
 610 0036 6361     		str	r3, [r4, #20]
 611              	.LVL48:
 612              	.L28:
 311:User/fifo/fifo.c ****     }
 312:User/fifo/fifo.c ****     else //rollback
 313:User/fifo/fifo.c ****     {
 314:User/fifo/fifo.c ****         len_from_start = len - len_to_end;
 315:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 316:User/fifo/fifo.c ****         memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 317:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr + len_from_start;
 318:User/fifo/fifo.c ****     }
 319:User/fifo/fifo.c **** 
 320:User/fifo/fifo.c ****     p_fifo->free_num -= len;
 613              		.loc 1 320 5 is_stmt 1 view .LVU207
 614              		.loc 1 320 22 is_stmt 0 view .LVU208
 615 0038 A368     		ldr	r3, [r4, #8]
 616 003a 5B1B     		subs	r3, r3, r5
 617 003c A360     		str	r3, [r4, #8]
 321:User/fifo/fifo.c ****     p_fifo->used_num += len;
 618              		.loc 1 321 5 is_stmt 1 view .LVU209
 619              		.loc 1 321 22 is_stmt 0 view .LVU210
 620 003e E368     		ldr	r3, [r4, #12]
 621 0040 2B44     		add	r3, r3, r5
 622 0042 E360     		str	r3, [r4, #12]
 322:User/fifo/fifo.c ****     retval = len;
 623              		.loc 1 322 5 is_stmt 1 view .LVU211
 624              	.LVL49:
 323:User/fifo/fifo.c **** 
 324:User/fifo/fifo.c ****     return retval;
 625              		.loc 1 324 5 view .LVU212
 626              	.L24:
 325:User/fifo/fifo.c **** }
 627              		.loc 1 325 1 is_stmt 0 view .LVU213
 628 0044 2846     		mov	r0, r5
 629 0046 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 21


 630              	.LVL50:
 631              	.L27:
 314:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 632              		.loc 1 314 9 is_stmt 1 view .LVU214
 314:User/fifo/fifo.c ****         memcpy(p_fifo->p_write_addr, p_source, len_to_end);
 633              		.loc 1 314 24 is_stmt 0 view .LVU215
 634 004a A5EB0608 		sub	r8, r5, r6
 635              	.LVL51:
 315:User/fifo/fifo.c ****         memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 636              		.loc 1 315 9 is_stmt 1 view .LVU216
 637 004e 3246     		mov	r2, r6
 638 0050 3946     		mov	r1, r7
 639              	.LVL52:
 315:User/fifo/fifo.c ****         memcpy(p_fifo->p_start_addr, p_source + len_to_end, len_from_start);
 640              		.loc 1 315 9 is_stmt 0 view .LVU217
 641 0052 FFF7FEFF 		bl	memcpy
 642              	.LVL53:
 316:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr + len_from_start;
 643              		.loc 1 316 9 is_stmt 1 view .LVU218
 644 0056 4246     		mov	r2, r8
 645 0058 B919     		adds	r1, r7, r6
 646 005a 2068     		ldr	r0, [r4]
 647 005c FFF7FEFF 		bl	memcpy
 648              	.LVL54:
 317:User/fifo/fifo.c ****     }
 649              		.loc 1 317 9 view .LVU219
 317:User/fifo/fifo.c ****     }
 650              		.loc 1 317 38 is_stmt 0 view .LVU220
 651 0060 2368     		ldr	r3, [r4]
 317:User/fifo/fifo.c ****     }
 652              		.loc 1 317 53 view .LVU221
 653 0062 4344     		add	r3, r3, r8
 317:User/fifo/fifo.c ****     }
 654              		.loc 1 317 30 view .LVU222
 655 0064 6361     		str	r3, [r4, #20]
 656 0066 E7E7     		b	.L28
 657              	.LVL55:
 658              	.L29:
 290:User/fifo/fifo.c ****     }
 659              		.loc 1 290 16 view .LVU223
 660 0068 4FF0FF35 		mov	r5, #-1
 661 006c EAE7     		b	.L24
 662              		.cfi_endproc
 663              	.LFE52:
 665              		.section	.text.fifo_s_get,"ax",%progbits
 666              		.align	1
 667              		.global	fifo_s_get
 668              		.syntax unified
 669              		.thumb
 670              		.thumb_func
 672              	fifo_s_get:
 673              	.LVL56:
 674              	.LFB53:
 326:User/fifo/fifo.c **** 
 327:User/fifo/fifo.c **** //******************************************************************************************
 328:User/fifo/fifo.c **** //
 329:User/fifo/fifo.c **** //! \brief  Get an element from FIFO(in single mode).
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 22


 330:User/fifo/fifo.c **** //!
 331:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 332:User/fifo/fifo.c **** //!
 333:User/fifo/fifo.c **** //! \retval the data element of FIFO.
 334:User/fifo/fifo.c **** //
 335:User/fifo/fifo.c **** //******************************************************************************************
 336:User/fifo/fifo.c **** char fifo_s_get(fifo_s_t *p_fifo)
 337:User/fifo/fifo.c **** {
 675              		.loc 1 337 1 is_stmt 1 view -0
 676              		.cfi_startproc
 677              		@ args = 0, pretend = 0, frame = 0
 678              		@ frame_needed = 0, uses_anonymous_args = 0
 679              		@ link register save eliminated.
 680              		.loc 1 337 1 is_stmt 0 view .LVU225
 681 0000 0346     		mov	r3, r0
 338:User/fifo/fifo.c ****     char retval = 0;
 682              		.loc 1 338 5 is_stmt 1 view .LVU226
 683              	.LVL57:
 339:User/fifo/fifo.c **** 
 340:User/fifo/fifo.c ****     //! Check input parameters.
 341:User/fifo/fifo.c ****     ASSERT(p_fifo);
 684              		.loc 1 341 19 view .LVU227
 342:User/fifo/fifo.c **** 
 343:User/fifo/fifo.c ****     //TODO:
 344:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 685              		.loc 1 344 5 view .LVU228
 686              		.loc 1 344 20 is_stmt 0 view .LVU229
 687 0002 C268     		ldr	r2, [r0, #12]
 688              		.loc 1 344 8 view .LVU230
 689 0004 B2B1     		cbz	r2, .L35
 345:User/fifo/fifo.c ****     {
 346:User/fifo/fifo.c ****         return 0;
 347:User/fifo/fifo.c ****     }
 348:User/fifo/fifo.c **** 
 349:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 690              		.loc 1 349 5 is_stmt 1 view .LVU231
 691              		.loc 1 349 5 view .LVU232
 692              	.LBB70:
 693              	.LBI70:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 694              		.loc 2 140 27 view .LVU233
 695              	.LBB71:
 696              		.loc 2 142 3 view .LVU234
 697              		.syntax unified
 698              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 699 0006 72B6     		cpsid i
 700              	@ 0 "" 2
 701              		.thumb
 702              		.syntax unified
 703              	.LBE71:
 704              	.LBE70:
 705              		.loc 1 349 5 view .LVU235
 350:User/fifo/fifo.c **** 
 351:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 706              		.loc 1 351 5 view .LVU236
 707              		.loc 1 351 20 is_stmt 0 view .LVU237
 708 0008 C268     		ldr	r2, [r0, #12]
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 23


 709              		.loc 1 351 8 view .LVU238
 710 000a 82B1     		cbz	r2, .L36
 352:User/fifo/fifo.c ****     {
 353:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 354:User/fifo/fifo.c ****         return 0;
 355:User/fifo/fifo.c ****     }
 356:User/fifo/fifo.c **** 
 357:User/fifo/fifo.c ****     if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 711              		.loc 1 357 5 is_stmt 1 view .LVU239
 712              		.loc 1 357 15 is_stmt 0 view .LVU240
 713 000c 0069     		ldr	r0, [r0, #16]
 714              	.LVL58:
 715              		.loc 1 357 37 view .LVU241
 716 000e 5968     		ldr	r1, [r3, #4]
 717              		.loc 1 357 8 view .LVU242
 718 0010 8842     		cmp	r0, r1
 719 0012 01D9     		bls	.L34
 358:User/fifo/fifo.c ****     {
 359:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr;
 720              		.loc 1 359 9 is_stmt 1 view .LVU243
 721              		.loc 1 359 37 is_stmt 0 view .LVU244
 722 0014 1968     		ldr	r1, [r3]
 723              		.loc 1 359 29 view .LVU245
 724 0016 1961     		str	r1, [r3, #16]
 725              	.L34:
 360:User/fifo/fifo.c ****     }
 361:User/fifo/fifo.c **** 
 362:User/fifo/fifo.c ****     retval = *p_fifo->p_read_addr;
 726              		.loc 1 362 5 is_stmt 1 view .LVU246
 727              		.loc 1 362 12 is_stmt 0 view .LVU247
 728 0018 1969     		ldr	r1, [r3, #16]
 729 001a 11F8010B 		ldrb	r0, [r1], #1	@ zero_extendqisi2
 730              	.LVL59:
 363:User/fifo/fifo.c ****     // Update information
 364:User/fifo/fifo.c ****     p_fifo->p_read_addr++;
 731              		.loc 1 364 5 is_stmt 1 view .LVU248
 732              		.loc 1 364 24 is_stmt 0 view .LVU249
 733 001e 1961     		str	r1, [r3, #16]
 365:User/fifo/fifo.c ****     p_fifo->free_num++;
 734              		.loc 1 365 5 is_stmt 1 view .LVU250
 735              		.loc 1 365 11 is_stmt 0 view .LVU251
 736 0020 9968     		ldr	r1, [r3, #8]
 737              		.loc 1 365 21 view .LVU252
 738 0022 0131     		adds	r1, r1, #1
 739 0024 9960     		str	r1, [r3, #8]
 366:User/fifo/fifo.c ****     p_fifo->used_num--;
 740              		.loc 1 366 5 is_stmt 1 view .LVU253
 741              		.loc 1 366 21 is_stmt 0 view .LVU254
 742 0026 013A     		subs	r2, r2, #1
 743 0028 DA60     		str	r2, [r3, #12]
 367:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 744              		.loc 1 367 5 is_stmt 1 view .LVU255
 745              		.loc 1 367 5 view .LVU256
 746              	.LBB72:
 747              	.LBI72:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 748              		.loc 2 129 27 view .LVU257
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 24


 749              	.LBB73:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 750              		.loc 2 131 3 view .LVU258
 751              		.syntax unified
 752              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 753 002a 62B6     		cpsie i
 754              	@ 0 "" 2
 755              		.thumb
 756              		.syntax unified
 757              	.LBE73:
 758              	.LBE72:
 759              		.loc 1 367 5 view .LVU259
 368:User/fifo/fifo.c **** 
 369:User/fifo/fifo.c ****     return (retval);
 760              		.loc 1 369 5 view .LVU260
 761              		.loc 1 369 12 is_stmt 0 view .LVU261
 762 002c 7047     		bx	lr
 763              	.LVL60:
 764              	.L36:
 353:User/fifo/fifo.c ****         return 0;
 765              		.loc 1 353 9 is_stmt 1 view .LVU262
 353:User/fifo/fifo.c ****         return 0;
 766              		.loc 1 353 9 view .LVU263
 767              	.LBB74:
 768              	.LBI74:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 769              		.loc 2 129 27 view .LVU264
 770              	.LBB75:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 771              		.loc 2 131 3 view .LVU265
 772              		.syntax unified
 773              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 774 002e 62B6     		cpsie i
 775              	@ 0 "" 2
 776              		.thumb
 777              		.syntax unified
 778              	.LBE75:
 779              	.LBE74:
 353:User/fifo/fifo.c ****         return 0;
 780              		.loc 1 353 9 view .LVU266
 354:User/fifo/fifo.c ****     }
 781              		.loc 1 354 9 view .LVU267
 354:User/fifo/fifo.c ****     }
 782              		.loc 1 354 16 is_stmt 0 view .LVU268
 783 0030 0020     		movs	r0, #0
 784              	.LVL61:
 354:User/fifo/fifo.c ****     }
 785              		.loc 1 354 16 view .LVU269
 786 0032 7047     		bx	lr
 787              	.LVL62:
 788              	.L35:
 346:User/fifo/fifo.c ****     }
 789              		.loc 1 346 16 view .LVU270
 790 0034 0020     		movs	r0, #0
 791              	.LVL63:
 370:User/fifo/fifo.c **** }
 792              		.loc 1 370 1 view .LVU271
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 25


 793 0036 7047     		bx	lr
 794              		.cfi_endproc
 795              	.LFE53:
 797              		.section	.text.fifo_s_gets,"ax",%progbits
 798              		.align	1
 799              		.global	fifo_s_gets
 800              		.syntax unified
 801              		.thumb
 802              		.thumb_func
 804              	fifo_s_gets:
 805              	.LVL64:
 806              	.LFB54:
 371:User/fifo/fifo.c **** 
 372:User/fifo/fifo.c **** //******************************************************************************************
 373:User/fifo/fifo.c **** //
 374:User/fifo/fifo.c **** //! \brief  Get some element from FIFO(in single mode).
 375:User/fifo/fifo.c **** //!
 376:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 377:User/fifo/fifo.c **** //!
 378:User/fifo/fifo.c **** //! \retval the number of really read data.
 379:User/fifo/fifo.c **** //
 380:User/fifo/fifo.c **** //******************************************************************************************
 381:User/fifo/fifo.c **** int fifo_s_gets(fifo_s_t *p_fifo, char *p_dest, int len)
 382:User/fifo/fifo.c **** {
 807              		.loc 1 382 1 is_stmt 1 view -0
 808              		.cfi_startproc
 809              		@ args = 0, pretend = 0, frame = 0
 810              		@ frame_needed = 0, uses_anonymous_args = 0
 811              		.loc 1 382 1 is_stmt 0 view .LVU273
 812 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 813              	.LCFI4:
 814              		.cfi_def_cfa_offset 24
 815              		.cfi_offset 4, -24
 816              		.cfi_offset 5, -20
 817              		.cfi_offset 6, -16
 818              		.cfi_offset 7, -12
 819              		.cfi_offset 8, -8
 820              		.cfi_offset 14, -4
 383:User/fifo/fifo.c ****     int retval;
 821              		.loc 1 383 5 is_stmt 1 view .LVU274
 384:User/fifo/fifo.c ****     int len_to_end;
 822              		.loc 1 384 5 view .LVU275
 385:User/fifo/fifo.c ****     int len_from_start;
 823              		.loc 1 385 5 view .LVU276
 386:User/fifo/fifo.c **** 
 387:User/fifo/fifo.c ****     ASSERT(p_fifo);
 824              		.loc 1 387 19 view .LVU277
 388:User/fifo/fifo.c **** 
 389:User/fifo/fifo.c ****     if (NULL == p_dest)
 825              		.loc 1 389 5 view .LVU278
 826              		.loc 1 389 8 is_stmt 0 view .LVU279
 827 0004 0029     		cmp	r1, #0
 828 0006 39D0     		beq	.L44
 829 0008 0446     		mov	r4, r0
 830 000a 0F46     		mov	r7, r1
 390:User/fifo/fifo.c ****     {
 391:User/fifo/fifo.c ****         return -1;
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 26


 392:User/fifo/fifo.c ****     }
 393:User/fifo/fifo.c **** 
 394:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 831              		.loc 1 394 5 is_stmt 1 view .LVU280
 832              		.loc 1 394 20 is_stmt 0 view .LVU281
 833 000c C568     		ldr	r5, [r0, #12]
 834              		.loc 1 394 8 view .LVU282
 835 000e 0DB3     		cbz	r5, .L46
 395:User/fifo/fifo.c ****     {
 396:User/fifo/fifo.c ****         *p_dest=0;
 397:User/fifo/fifo.c ****         return 0;
 398:User/fifo/fifo.c ****     }
 399:User/fifo/fifo.c **** 
 400:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 836              		.loc 1 400 5 is_stmt 1 view .LVU283
 837              		.loc 1 400 5 view .LVU284
 838              	.LBB76:
 839              	.LBI76:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 840              		.loc 2 140 27 view .LVU285
 841              	.LBB77:
 842              		.loc 2 142 3 view .LVU286
 843              		.syntax unified
 844              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 845 0010 72B6     		cpsid i
 846              	@ 0 "" 2
 847              		.thumb
 848              		.syntax unified
 849              	.LBE77:
 850              	.LBE76:
 851              		.loc 1 400 5 view .LVU287
 401:User/fifo/fifo.c **** 
 402:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 852              		.loc 1 402 5 view .LVU288
 853              		.loc 1 402 20 is_stmt 0 view .LVU289
 854 0012 C568     		ldr	r5, [r0, #12]
 855              		.loc 1 402 8 view .LVU290
 856 0014 0DB3     		cbz	r5, .L47
 403:User/fifo/fifo.c ****     {
 404:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 405:User/fifo/fifo.c ****         return 0;
 406:User/fifo/fifo.c ****     }
 407:User/fifo/fifo.c **** 
 408:User/fifo/fifo.c ****     if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 857              		.loc 1 408 5 is_stmt 1 view .LVU291
 858              		.loc 1 408 15 is_stmt 0 view .LVU292
 859 0016 0369     		ldr	r3, [r0, #16]
 860              		.loc 1 408 37 view .LVU293
 861 0018 4668     		ldr	r6, [r0, #4]
 862              		.loc 1 408 8 view .LVU294
 863 001a B342     		cmp	r3, r6
 864 001c 01D9     		bls	.L41
 409:User/fifo/fifo.c ****     {
 410:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr;
 865              		.loc 1 410 9 is_stmt 1 view .LVU295
 866              		.loc 1 410 37 is_stmt 0 view .LVU296
 867 001e 0368     		ldr	r3, [r0]
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 27


 868              		.loc 1 410 29 view .LVU297
 869 0020 0361     		str	r3, [r0, #16]
 870              	.L41:
 411:User/fifo/fifo.c ****     }
 412:User/fifo/fifo.c **** 
 413:User/fifo/fifo.c ****     len = (len < p_fifo->used_num) ? len : p_fifo->used_num;
 871              		.loc 1 413 5 is_stmt 1 view .LVU298
 872              		.loc 1 413 9 is_stmt 0 view .LVU299
 873 0022 9542     		cmp	r5, r2
 874 0024 A8BF     		it	ge
 875 0026 1546     		movge	r5, r2
 876              	.LVL65:
 414:User/fifo/fifo.c ****     len_to_end = p_fifo->p_end_addr - p_fifo->p_read_addr + 1;
 877              		.loc 1 414 5 is_stmt 1 view .LVU300
 878              		.loc 1 414 45 is_stmt 0 view .LVU301
 879 0028 2169     		ldr	r1, [r4, #16]
 880              	.LVL66:
 881              		.loc 1 414 37 view .LVU302
 882 002a 761A     		subs	r6, r6, r1
 883              		.loc 1 414 16 view .LVU303
 884 002c 0136     		adds	r6, r6, #1
 885              	.LVL67:
 415:User/fifo/fifo.c **** 
 416:User/fifo/fifo.c ****     if (len_to_end >= len) //no rollback
 886              		.loc 1 416 5 is_stmt 1 view .LVU304
 887              		.loc 1 416 8 is_stmt 0 view .LVU305
 888 002e B542     		cmp	r5, r6
 889 0030 15DC     		bgt	.L42
 417:User/fifo/fifo.c ****     {
 418:User/fifo/fifo.c ****         len_to_end = len;
 890              		.loc 1 418 9 is_stmt 1 view .LVU306
 891              	.LVL68:
 419:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 892              		.loc 1 419 9 view .LVU307
 893 0032 2A46     		mov	r2, r5
 894 0034 3846     		mov	r0, r7
 895              	.LVL69:
 896              		.loc 1 419 9 is_stmt 0 view .LVU308
 897 0036 FFF7FEFF 		bl	memcpy
 898              	.LVL70:
 420:User/fifo/fifo.c ****         p_fifo->p_read_addr += len_to_end;
 899              		.loc 1 420 9 is_stmt 1 view .LVU309
 900              		.loc 1 420 29 is_stmt 0 view .LVU310
 901 003a 2369     		ldr	r3, [r4, #16]
 902 003c 2B44     		add	r3, r3, r5
 903 003e 2361     		str	r3, [r4, #16]
 904              	.LVL71:
 905              	.L43:
 421:User/fifo/fifo.c ****     }
 422:User/fifo/fifo.c ****     else //rollback
 423:User/fifo/fifo.c ****     {
 424:User/fifo/fifo.c ****         len_from_start = len - len_to_end;
 425:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 426:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 427:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr + len_from_start;
 428:User/fifo/fifo.c ****     }
 429:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 28


 430:User/fifo/fifo.c ****     p_fifo->free_num += len;
 906              		.loc 1 430 5 is_stmt 1 view .LVU311
 907              		.loc 1 430 22 is_stmt 0 view .LVU312
 908 0040 A368     		ldr	r3, [r4, #8]
 909 0042 2B44     		add	r3, r3, r5
 910 0044 A360     		str	r3, [r4, #8]
 431:User/fifo/fifo.c ****     p_fifo->used_num -= len;
 911              		.loc 1 431 5 is_stmt 1 view .LVU313
 912              		.loc 1 431 22 is_stmt 0 view .LVU314
 913 0046 E368     		ldr	r3, [r4, #12]
 914 0048 5B1B     		subs	r3, r3, r5
 915 004a E360     		str	r3, [r4, #12]
 432:User/fifo/fifo.c ****     retval = len;
 916              		.loc 1 432 5 is_stmt 1 view .LVU315
 917              	.LVL72:
 433:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 918              		.loc 1 433 5 view .LVU316
 919              		.loc 1 433 5 view .LVU317
 920              	.LBB78:
 921              	.LBI78:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 922              		.loc 2 129 27 view .LVU318
 923              	.LBB79:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 924              		.loc 2 131 3 view .LVU319
 925              		.syntax unified
 926              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 927 004c 62B6     		cpsie i
 928              	@ 0 "" 2
 929              		.thumb
 930              		.syntax unified
 931              	.LBE79:
 932              	.LBE78:
 933              		.loc 1 433 5 view .LVU320
 434:User/fifo/fifo.c **** 
 435:User/fifo/fifo.c ****     return retval;
 934              		.loc 1 435 5 view .LVU321
 935              	.LVL73:
 936              	.L37:
 436:User/fifo/fifo.c **** }
 937              		.loc 1 436 1 is_stmt 0 view .LVU322
 938 004e 2846     		mov	r0, r5
 939 0050 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 940              	.LVL74:
 941              	.L46:
 396:User/fifo/fifo.c ****         return 0;
 942              		.loc 1 396 9 is_stmt 1 view .LVU323
 396:User/fifo/fifo.c ****         return 0;
 943              		.loc 1 396 16 is_stmt 0 view .LVU324
 944 0054 0023     		movs	r3, #0
 945 0056 0B70     		strb	r3, [r1]
 397:User/fifo/fifo.c ****     }
 946              		.loc 1 397 9 is_stmt 1 view .LVU325
 397:User/fifo/fifo.c ****     }
 947              		.loc 1 397 16 is_stmt 0 view .LVU326
 948 0058 F9E7     		b	.L37
 949              	.L47:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 29


 404:User/fifo/fifo.c ****         return 0;
 950              		.loc 1 404 9 is_stmt 1 view .LVU327
 404:User/fifo/fifo.c ****         return 0;
 951              		.loc 1 404 9 view .LVU328
 952              	.LBB80:
 953              	.LBI80:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 954              		.loc 2 129 27 view .LVU329
 955              	.LBB81:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 956              		.loc 2 131 3 view .LVU330
 957              		.syntax unified
 958              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 959 005a 62B6     		cpsie i
 960              	@ 0 "" 2
 961              		.thumb
 962              		.syntax unified
 963              	.LBE81:
 964              	.LBE80:
 404:User/fifo/fifo.c ****         return 0;
 965              		.loc 1 404 9 view .LVU331
 405:User/fifo/fifo.c ****     }
 966              		.loc 1 405 9 view .LVU332
 405:User/fifo/fifo.c ****     }
 967              		.loc 1 405 16 is_stmt 0 view .LVU333
 968 005c F7E7     		b	.L37
 969              	.LVL75:
 970              	.L42:
 424:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 971              		.loc 1 424 9 is_stmt 1 view .LVU334
 424:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 972              		.loc 1 424 24 is_stmt 0 view .LVU335
 973 005e A5EB0608 		sub	r8, r5, r6
 974              	.LVL76:
 425:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 975              		.loc 1 425 9 is_stmt 1 view .LVU336
 976 0062 3246     		mov	r2, r6
 977 0064 3846     		mov	r0, r7
 978              	.LVL77:
 425:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 979              		.loc 1 425 9 is_stmt 0 view .LVU337
 980 0066 FFF7FEFF 		bl	memcpy
 981              	.LVL78:
 426:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr + len_from_start;
 982              		.loc 1 426 9 is_stmt 1 view .LVU338
 983 006a 4246     		mov	r2, r8
 984 006c 2168     		ldr	r1, [r4]
 985 006e B819     		adds	r0, r7, r6
 986 0070 FFF7FEFF 		bl	memcpy
 987              	.LVL79:
 427:User/fifo/fifo.c ****     }
 988              		.loc 1 427 9 view .LVU339
 427:User/fifo/fifo.c ****     }
 989              		.loc 1 427 37 is_stmt 0 view .LVU340
 990 0074 2368     		ldr	r3, [r4]
 427:User/fifo/fifo.c ****     }
 991              		.loc 1 427 52 view .LVU341
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 30


 992 0076 4344     		add	r3, r3, r8
 427:User/fifo/fifo.c ****     }
 993              		.loc 1 427 29 view .LVU342
 994 0078 2361     		str	r3, [r4, #16]
 995 007a E1E7     		b	.L43
 996              	.LVL80:
 997              	.L44:
 391:User/fifo/fifo.c ****     }
 998              		.loc 1 391 16 view .LVU343
 999 007c 4FF0FF35 		mov	r5, #-1
 1000 0080 E5E7     		b	.L37
 1001              		.cfi_endproc
 1002              	.LFE54:
 1004              		.section	.text.fifo_s_gets_noprotect,"ax",%progbits
 1005              		.align	1
 1006              		.global	fifo_s_gets_noprotect
 1007              		.syntax unified
 1008              		.thumb
 1009              		.thumb_func
 1011              	fifo_s_gets_noprotect:
 1012              	.LVL81:
 1013              	.LFB55:
 437:User/fifo/fifo.c **** 
 438:User/fifo/fifo.c **** //******************************************************************************************
 439:User/fifo/fifo.c **** //
 440:User/fifo/fifo.c **** //! \brief  Get some element from FIFO(in single mode).
 441:User/fifo/fifo.c **** //!
 442:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 443:User/fifo/fifo.c **** //!
 444:User/fifo/fifo.c **** //! \retval the number of really read data.
 445:User/fifo/fifo.c **** //
 446:User/fifo/fifo.c **** //******************************************************************************************
 447:User/fifo/fifo.c **** int fifo_s_gets_noprotect(fifo_s_t *p_fifo, char *p_dest, int len)
 448:User/fifo/fifo.c **** {
 1014              		.loc 1 448 1 is_stmt 1 view -0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 0
 1017              		@ frame_needed = 0, uses_anonymous_args = 0
 1018              		.loc 1 448 1 is_stmt 0 view .LVU345
 1019 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1020              	.LCFI5:
 1021              		.cfi_def_cfa_offset 24
 1022              		.cfi_offset 4, -24
 1023              		.cfi_offset 5, -20
 1024              		.cfi_offset 6, -16
 1025              		.cfi_offset 7, -12
 1026              		.cfi_offset 8, -8
 1027              		.cfi_offset 14, -4
 449:User/fifo/fifo.c ****     int retval;
 1028              		.loc 1 449 5 is_stmt 1 view .LVU346
 450:User/fifo/fifo.c ****     int len_to_end;
 1029              		.loc 1 450 5 view .LVU347
 451:User/fifo/fifo.c ****     int len_from_start;
 1030              		.loc 1 451 5 view .LVU348
 452:User/fifo/fifo.c **** 
 453:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1031              		.loc 1 453 19 view .LVU349
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 31


 454:User/fifo/fifo.c **** 
 455:User/fifo/fifo.c ****     if (NULL == p_dest)
 1032              		.loc 1 455 5 view .LVU350
 1033              		.loc 1 455 8 is_stmt 0 view .LVU351
 1034 0004 81B3     		cbz	r1, .L53
 1035 0006 0446     		mov	r4, r0
 1036 0008 0F46     		mov	r7, r1
 456:User/fifo/fifo.c ****     {
 457:User/fifo/fifo.c ****         return -1;
 458:User/fifo/fifo.c ****     }
 459:User/fifo/fifo.c **** 
 460:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 1037              		.loc 1 460 5 is_stmt 1 view .LVU352
 1038              		.loc 1 460 20 is_stmt 0 view .LVU353
 1039 000a C568     		ldr	r5, [r0, #12]
 1040              		.loc 1 460 8 view .LVU354
 1041 000c D5B1     		cbz	r5, .L48
 461:User/fifo/fifo.c ****     {
 462:User/fifo/fifo.c ****         return 0;
 463:User/fifo/fifo.c ****     }
 464:User/fifo/fifo.c **** 
 465:User/fifo/fifo.c ****     if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 1042              		.loc 1 465 5 is_stmt 1 view .LVU355
 1043              		.loc 1 465 15 is_stmt 0 view .LVU356
 1044 000e 0369     		ldr	r3, [r0, #16]
 1045              		.loc 1 465 37 view .LVU357
 1046 0010 4668     		ldr	r6, [r0, #4]
 1047              		.loc 1 465 8 view .LVU358
 1048 0012 B342     		cmp	r3, r6
 1049 0014 01D9     		bls	.L50
 466:User/fifo/fifo.c ****     {
 467:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr;
 1050              		.loc 1 467 9 is_stmt 1 view .LVU359
 1051              		.loc 1 467 37 is_stmt 0 view .LVU360
 1052 0016 0368     		ldr	r3, [r0]
 1053              		.loc 1 467 29 view .LVU361
 1054 0018 0361     		str	r3, [r0, #16]
 1055              	.L50:
 468:User/fifo/fifo.c ****     }
 469:User/fifo/fifo.c **** 
 470:User/fifo/fifo.c ****     len = (len < p_fifo->used_num) ? len : p_fifo->used_num;
 1056              		.loc 1 470 5 is_stmt 1 view .LVU362
 1057              		.loc 1 470 9 is_stmt 0 view .LVU363
 1058 001a 9542     		cmp	r5, r2
 1059 001c A8BF     		it	ge
 1060 001e 1546     		movge	r5, r2
 1061              	.LVL82:
 471:User/fifo/fifo.c ****     len_to_end = p_fifo->p_end_addr - p_fifo->p_read_addr + 1;
 1062              		.loc 1 471 5 is_stmt 1 view .LVU364
 1063              		.loc 1 471 45 is_stmt 0 view .LVU365
 1064 0020 2169     		ldr	r1, [r4, #16]
 1065              	.LVL83:
 1066              		.loc 1 471 37 view .LVU366
 1067 0022 761A     		subs	r6, r6, r1
 1068              		.loc 1 471 16 view .LVU367
 1069 0024 0136     		adds	r6, r6, #1
 1070              	.LVL84:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 32


 472:User/fifo/fifo.c **** 
 473:User/fifo/fifo.c ****     if (len_to_end >= len) //no rollback
 1071              		.loc 1 473 5 is_stmt 1 view .LVU368
 1072              		.loc 1 473 8 is_stmt 0 view .LVU369
 1073 0026 B542     		cmp	r5, r6
 1074 0028 0FDC     		bgt	.L51
 474:User/fifo/fifo.c ****     {
 475:User/fifo/fifo.c ****         len_to_end = len;
 1075              		.loc 1 475 9 is_stmt 1 view .LVU370
 1076              	.LVL85:
 476:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1077              		.loc 1 476 9 view .LVU371
 1078 002a 2A46     		mov	r2, r5
 1079 002c 3846     		mov	r0, r7
 1080              	.LVL86:
 1081              		.loc 1 476 9 is_stmt 0 view .LVU372
 1082 002e FFF7FEFF 		bl	memcpy
 1083              	.LVL87:
 477:User/fifo/fifo.c ****         p_fifo->p_read_addr += len_to_end;
 1084              		.loc 1 477 9 is_stmt 1 view .LVU373
 1085              		.loc 1 477 29 is_stmt 0 view .LVU374
 1086 0032 2369     		ldr	r3, [r4, #16]
 1087 0034 2B44     		add	r3, r3, r5
 1088 0036 2361     		str	r3, [r4, #16]
 1089              	.LVL88:
 1090              	.L52:
 478:User/fifo/fifo.c ****     }
 479:User/fifo/fifo.c ****     else //rollback
 480:User/fifo/fifo.c ****     {
 481:User/fifo/fifo.c ****         len_from_start = len - len_to_end;
 482:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 483:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 484:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr + len_from_start;
 485:User/fifo/fifo.c ****     }
 486:User/fifo/fifo.c **** 
 487:User/fifo/fifo.c ****     p_fifo->free_num += len;
 1091              		.loc 1 487 5 is_stmt 1 view .LVU375
 1092              		.loc 1 487 22 is_stmt 0 view .LVU376
 1093 0038 A368     		ldr	r3, [r4, #8]
 1094 003a 2B44     		add	r3, r3, r5
 1095 003c A360     		str	r3, [r4, #8]
 488:User/fifo/fifo.c ****     p_fifo->used_num -= len;
 1096              		.loc 1 488 5 is_stmt 1 view .LVU377
 1097              		.loc 1 488 22 is_stmt 0 view .LVU378
 1098 003e E368     		ldr	r3, [r4, #12]
 1099 0040 5B1B     		subs	r3, r3, r5
 1100 0042 E360     		str	r3, [r4, #12]
 489:User/fifo/fifo.c ****     retval = len;
 1101              		.loc 1 489 5 is_stmt 1 view .LVU379
 1102              	.LVL89:
 490:User/fifo/fifo.c **** 
 491:User/fifo/fifo.c ****     return retval;
 1103              		.loc 1 491 5 view .LVU380
 1104              	.L48:
 492:User/fifo/fifo.c **** }
 1105              		.loc 1 492 1 is_stmt 0 view .LVU381
 1106 0044 2846     		mov	r0, r5
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 33


 1107 0046 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1108              	.LVL90:
 1109              	.L51:
 481:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1110              		.loc 1 481 9 is_stmt 1 view .LVU382
 481:User/fifo/fifo.c ****         memcpy(p_dest, p_fifo->p_read_addr, len_to_end);
 1111              		.loc 1 481 24 is_stmt 0 view .LVU383
 1112 004a A5EB0608 		sub	r8, r5, r6
 1113              	.LVL91:
 482:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1114              		.loc 1 482 9 is_stmt 1 view .LVU384
 1115 004e 3246     		mov	r2, r6
 1116 0050 3846     		mov	r0, r7
 1117              	.LVL92:
 482:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1118              		.loc 1 482 9 is_stmt 0 view .LVU385
 1119 0052 FFF7FEFF 		bl	memcpy
 1120              	.LVL93:
 483:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr + len_from_start;
 1121              		.loc 1 483 9 is_stmt 1 view .LVU386
 1122 0056 4246     		mov	r2, r8
 1123 0058 2168     		ldr	r1, [r4]
 1124 005a B819     		adds	r0, r7, r6
 1125 005c FFF7FEFF 		bl	memcpy
 1126              	.LVL94:
 484:User/fifo/fifo.c ****     }
 1127              		.loc 1 484 9 view .LVU387
 484:User/fifo/fifo.c ****     }
 1128              		.loc 1 484 37 is_stmt 0 view .LVU388
 1129 0060 2368     		ldr	r3, [r4]
 484:User/fifo/fifo.c ****     }
 1130              		.loc 1 484 52 view .LVU389
 1131 0062 4344     		add	r3, r3, r8
 484:User/fifo/fifo.c ****     }
 1132              		.loc 1 484 29 view .LVU390
 1133 0064 2361     		str	r3, [r4, #16]
 1134 0066 E7E7     		b	.L52
 1135              	.LVL95:
 1136              	.L53:
 457:User/fifo/fifo.c ****     }
 1137              		.loc 1 457 16 view .LVU391
 1138 0068 4FF0FF35 		mov	r5, #-1
 1139 006c EAE7     		b	.L48
 1140              		.cfi_endproc
 1141              	.LFE55:
 1143              		.section	.text.fifo_s_preread,"ax",%progbits
 1144              		.align	1
 1145              		.global	fifo_s_preread
 1146              		.syntax unified
 1147              		.thumb
 1148              		.thumb_func
 1150              	fifo_s_preread:
 1151              	.LVL96:
 1152              	.LFB56:
 493:User/fifo/fifo.c **** 
 494:User/fifo/fifo.c **** //******************************************************************************************
 495:User/fifo/fifo.c **** //
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 34


 496:User/fifo/fifo.c **** //! \brief  Pre-Read an element from FIFO(in single mode).
 497:User/fifo/fifo.c **** //!
 498:User/fifo/fifo.c **** //! \param  [in]  p_fifo is the pointer of valid FIFO.
 499:User/fifo/fifo.c **** //! \param  [in]  Offset is the offset from current pointer.
 500:User/fifo/fifo.c **** //!
 501:User/fifo/fifo.c **** //! \retval the data element of FIFO.
 502:User/fifo/fifo.c **** //
 503:User/fifo/fifo.c **** //******************************************************************************************
 504:User/fifo/fifo.c **** char fifo_s_preread(fifo_s_t *p_fifo, int offset)
 505:User/fifo/fifo.c **** {
 1153              		.loc 1 505 1 is_stmt 1 view -0
 1154              		.cfi_startproc
 1155              		@ args = 0, pretend = 0, frame = 0
 1156              		@ frame_needed = 0, uses_anonymous_args = 0
 1157              		@ link register save eliminated.
 506:User/fifo/fifo.c ****     char *tmp_read_addr;
 1158              		.loc 1 506 5 view .LVU393
 507:User/fifo/fifo.c **** 
 508:User/fifo/fifo.c ****     //! Check input parameters.
 509:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1159              		.loc 1 509 19 view .LVU394
 510:User/fifo/fifo.c **** 
 511:User/fifo/fifo.c ****     if (offset > p_fifo->used_num)
 1160              		.loc 1 511 5 view .LVU395
 1161              		.loc 1 511 24 is_stmt 0 view .LVU396
 1162 0000 C368     		ldr	r3, [r0, #12]
 1163              		.loc 1 511 8 view .LVU397
 1164 0002 8B42     		cmp	r3, r1
 1165 0004 0ADB     		blt	.L58
 512:User/fifo/fifo.c ****     {
 513:User/fifo/fifo.c ****         return 0;
 514:User/fifo/fifo.c ****     }
 515:User/fifo/fifo.c ****     else
 516:User/fifo/fifo.c ****     {
 517:User/fifo/fifo.c ****         // Move Read Pointer to right position
 518:User/fifo/fifo.c ****         tmp_read_addr = p_fifo->p_read_addr + offset;
 1166              		.loc 1 518 9 is_stmt 1 view .LVU398
 1167              		.loc 1 518 31 is_stmt 0 view .LVU399
 1168 0006 0369     		ldr	r3, [r0, #16]
 1169              		.loc 1 518 23 view .LVU400
 1170 0008 1944     		add	r1, r1, r3
 1171              	.LVL97:
 519:User/fifo/fifo.c ****         if (tmp_read_addr > p_fifo->p_end_addr)
 1172              		.loc 1 519 9 is_stmt 1 view .LVU401
 1173              		.loc 1 519 35 is_stmt 0 view .LVU402
 1174 000a 4368     		ldr	r3, [r0, #4]
 1175              		.loc 1 519 12 view .LVU403
 1176 000c 8B42     		cmp	r3, r1
 1177 000e 03D2     		bcs	.L57
 520:User/fifo/fifo.c ****         {
 521:User/fifo/fifo.c ****             tmp_read_addr = tmp_read_addr - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 1178              		.loc 1 521 13 is_stmt 1 view .LVU404
 1179              		.loc 1 521 72 is_stmt 0 view .LVU405
 1180 0010 0268     		ldr	r2, [r0]
 1181              		.loc 1 521 43 view .LVU406
 1182 0012 C91A     		subs	r1, r1, r3
 1183              	.LVL98:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 35


 1184              		.loc 1 521 87 view .LVU407
 1185 0014 0139     		subs	r1, r1, #1
 1186              		.loc 1 521 27 view .LVU408
 1187 0016 1144     		add	r1, r1, r2
 1188              	.LVL99:
 1189              	.L57:
 522:User/fifo/fifo.c ****         }
 523:User/fifo/fifo.c **** 
 524:User/fifo/fifo.c ****         return *tmp_read_addr;
 1190              		.loc 1 524 9 is_stmt 1 view .LVU409
 1191              		.loc 1 524 16 is_stmt 0 view .LVU410
 1192 0018 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 1193              	.LVL100:
 1194              		.loc 1 524 16 view .LVU411
 1195 001a 7047     		bx	lr
 1196              	.LVL101:
 1197              	.L58:
 513:User/fifo/fifo.c ****     }
 1198              		.loc 1 513 16 view .LVU412
 1199 001c 0020     		movs	r0, #0
 1200              	.LVL102:
 525:User/fifo/fifo.c ****     }
 526:User/fifo/fifo.c **** }
 1201              		.loc 1 526 1 view .LVU413
 1202 001e 7047     		bx	lr
 1203              		.cfi_endproc
 1204              	.LFE56:
 1206              		.section	.text.fifo_s_prereads,"ax",%progbits
 1207              		.align	1
 1208              		.global	fifo_s_prereads
 1209              		.syntax unified
 1210              		.thumb
 1211              		.thumb_func
 1213              	fifo_s_prereads:
 1214              	.LVL103:
 1215              	.LFB57:
 527:User/fifo/fifo.c **** 
 528:User/fifo/fifo.c **** /*
 529:User/fifo/fifo.c ****  *
 530:User/fifo/fifo.c ****  *
 531:User/fifo/fifo.c ****  *
 532:User/fifo/fifo.c ****  *
 533:User/fifo/fifo.c ****  */
 534:User/fifo/fifo.c **** int fifo_s_prereads(fifo_s_t *p_fifo, char *p_dest, int offset, int len)
 535:User/fifo/fifo.c **** {
 1216              		.loc 1 535 1 is_stmt 1 view -0
 1217              		.cfi_startproc
 1218              		@ args = 0, pretend = 0, frame = 0
 1219              		@ frame_needed = 0, uses_anonymous_args = 0
 1220              		.loc 1 535 1 is_stmt 0 view .LVU415
 1221 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1222              	.LCFI6:
 1223              		.cfi_def_cfa_offset 24
 1224              		.cfi_offset 4, -24
 1225              		.cfi_offset 5, -20
 1226              		.cfi_offset 6, -16
 1227              		.cfi_offset 7, -12
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 36


 1228              		.cfi_offset 8, -8
 1229              		.cfi_offset 14, -4
 536:User/fifo/fifo.c ****     int retval;
 1230              		.loc 1 536 5 is_stmt 1 view .LVU416
 537:User/fifo/fifo.c ****     char *tmp_read_addr;
 1231              		.loc 1 537 5 view .LVU417
 538:User/fifo/fifo.c ****     int len_to_end;
 1232              		.loc 1 538 5 view .LVU418
 539:User/fifo/fifo.c ****     int len_from_start;
 1233              		.loc 1 539 5 view .LVU419
 540:User/fifo/fifo.c **** 
 541:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1234              		.loc 1 541 19 view .LVU420
 542:User/fifo/fifo.c **** 
 543:User/fifo/fifo.c ****     if (NULL == p_dest)
 1235              		.loc 1 543 5 view .LVU421
 1236              		.loc 1 543 8 is_stmt 0 view .LVU422
 1237 0004 0029     		cmp	r1, #0
 1238 0006 37D0     		beq	.L66
 1239 0008 0746     		mov	r7, r0
 1240 000a 8846     		mov	r8, r1
 544:User/fifo/fifo.c ****     {
 545:User/fifo/fifo.c ****         return -1;
 546:User/fifo/fifo.c ****     }
 547:User/fifo/fifo.c **** 
 548:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 1241              		.loc 1 548 5 is_stmt 1 view .LVU423
 1242              		.loc 1 548 20 is_stmt 0 view .LVU424
 1243 000c C168     		ldr	r1, [r0, #12]
 1244              	.LVL104:
 1245              		.loc 1 548 8 view .LVU425
 1246 000e B1B3     		cbz	r1, .L67
 549:User/fifo/fifo.c ****     {
 550:User/fifo/fifo.c ****         return -1;
 551:User/fifo/fifo.c ****     }
 552:User/fifo/fifo.c **** 
 553:User/fifo/fifo.c ****     if (offset >= p_fifo->used_num)
 1247              		.loc 1 553 5 is_stmt 1 view .LVU426
 1248              		.loc 1 553 8 is_stmt 0 view .LVU427
 1249 0010 9142     		cmp	r1, r2
 1250 0012 37DD     		ble	.L68
 554:User/fifo/fifo.c ****     {
 555:User/fifo/fifo.c ****         return -1;
 556:User/fifo/fifo.c ****     }
 557:User/fifo/fifo.c **** 
 558:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 1251              		.loc 1 558 5 is_stmt 1 view .LVU428
 1252              		.loc 1 558 5 view .LVU429
 1253              	.LBB82:
 1254              	.LBI82:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1255              		.loc 2 140 27 view .LVU430
 1256              	.LBB83:
 1257              		.loc 2 142 3 view .LVU431
 1258              		.syntax unified
 1259              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1260 0014 72B6     		cpsid i
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 37


 1261              	@ 0 "" 2
 1262              		.thumb
 1263              		.syntax unified
 1264              	.LBE83:
 1265              	.LBE82:
 1266              		.loc 1 558 5 view .LVU432
 559:User/fifo/fifo.c **** 
 560:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 1267              		.loc 1 560 5 view .LVU433
 1268              		.loc 1 560 20 is_stmt 0 view .LVU434
 1269 0016 C468     		ldr	r4, [r0, #12]
 1270              		.loc 1 560 8 view .LVU435
 1271 0018 D4B1     		cbz	r4, .L70
 561:User/fifo/fifo.c ****     {
 562:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 563:User/fifo/fifo.c ****         return -1;
 564:User/fifo/fifo.c ****     }
 565:User/fifo/fifo.c **** 
 566:User/fifo/fifo.c ****     if (offset >= p_fifo->used_num)
 1272              		.loc 1 566 5 is_stmt 1 view .LVU436
 1273              		.loc 1 566 8 is_stmt 0 view .LVU437
 1274 001a 9442     		cmp	r4, r2
 1275 001c 1CDD     		ble	.L71
 567:User/fifo/fifo.c ****     {
 568:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 569:User/fifo/fifo.c ****         return -1;
 570:User/fifo/fifo.c ****     }
 571:User/fifo/fifo.c **** 
 572:User/fifo/fifo.c ****     tmp_read_addr = p_fifo->p_read_addr + offset;
 1276              		.loc 1 572 5 is_stmt 1 view .LVU438
 1277              		.loc 1 572 27 is_stmt 0 view .LVU439
 1278 001e 0169     		ldr	r1, [r0, #16]
 1279              		.loc 1 572 19 view .LVU440
 1280 0020 1144     		add	r1, r1, r2
 1281              	.LVL105:
 573:User/fifo/fifo.c ****     if (tmp_read_addr > p_fifo->p_end_addr)
 1282              		.loc 1 573 5 is_stmt 1 view .LVU441
 1283              		.loc 1 573 31 is_stmt 0 view .LVU442
 1284 0022 4668     		ldr	r6, [r0, #4]
 1285              		.loc 1 573 8 view .LVU443
 1286 0024 8E42     		cmp	r6, r1
 1287 0026 03D2     		bcs	.L63
 574:User/fifo/fifo.c ****     {
 575:User/fifo/fifo.c ****         tmp_read_addr = tmp_read_addr - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 1288              		.loc 1 575 9 is_stmt 1 view .LVU444
 1289              		.loc 1 575 68 is_stmt 0 view .LVU445
 1290 0028 0068     		ldr	r0, [r0]
 1291              	.LVL106:
 1292              		.loc 1 575 39 view .LVU446
 1293 002a 891B     		subs	r1, r1, r6
 1294              	.LVL107:
 1295              		.loc 1 575 83 view .LVU447
 1296 002c 0139     		subs	r1, r1, #1
 1297              		.loc 1 575 23 view .LVU448
 1298 002e 0144     		add	r1, r1, r0
 1299              	.LVL108:
 1300              	.L63:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 38


 576:User/fifo/fifo.c ****     }
 577:User/fifo/fifo.c **** 
 578:User/fifo/fifo.c ****     len = (len < (p_fifo->used_num - offset)) ? len : (p_fifo->used_num - offset);
 1301              		.loc 1 578 5 is_stmt 1 view .LVU449
 1302              		.loc 1 578 36 is_stmt 0 view .LVU450
 1303 0030 A41A     		subs	r4, r4, r2
 1304              		.loc 1 578 9 view .LVU451
 1305 0032 9C42     		cmp	r4, r3
 1306 0034 A8BF     		it	ge
 1307 0036 1C46     		movge	r4, r3
 1308              	.LVL109:
 579:User/fifo/fifo.c ****     len_to_end = p_fifo->p_end_addr - tmp_read_addr + 1;
 1309              		.loc 1 579 5 is_stmt 1 view .LVU452
 1310              		.loc 1 579 37 is_stmt 0 view .LVU453
 1311 0038 751A     		subs	r5, r6, r1
 1312              		.loc 1 579 16 view .LVU454
 1313 003a 0135     		adds	r5, r5, #1
 1314              	.LVL110:
 580:User/fifo/fifo.c **** 
 581:User/fifo/fifo.c ****     if (len_to_end >= len) //no rollback
 1315              		.loc 1 581 5 is_stmt 1 view .LVU455
 1316              		.loc 1 581 8 is_stmt 0 view .LVU456
 1317 003c AC42     		cmp	r4, r5
 1318 003e 0FDC     		bgt	.L64
 582:User/fifo/fifo.c ****     {
 583:User/fifo/fifo.c ****         len_to_end = len;
 1319              		.loc 1 583 9 is_stmt 1 view .LVU457
 1320              	.LVL111:
 584:User/fifo/fifo.c ****         memcpy(p_dest, tmp_read_addr, len_to_end);
 1321              		.loc 1 584 9 view .LVU458
 1322 0040 2246     		mov	r2, r4
 1323              	.LVL112:
 1324              		.loc 1 584 9 is_stmt 0 view .LVU459
 1325 0042 4046     		mov	r0, r8
 1326 0044 FFF7FEFF 		bl	memcpy
 1327              	.LVL113:
 1328              	.L65:
 585:User/fifo/fifo.c ****     }
 586:User/fifo/fifo.c ****     else //rollback
 587:User/fifo/fifo.c ****     {
 588:User/fifo/fifo.c ****         len_from_start = len - len_to_end;
 589:User/fifo/fifo.c ****         memcpy(p_dest, tmp_read_addr, len_to_end);
 590:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 591:User/fifo/fifo.c ****     }
 592:User/fifo/fifo.c **** 
 593:User/fifo/fifo.c ****     retval = len;
 1329              		.loc 1 593 5 is_stmt 1 view .LVU460
 594:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 1330              		.loc 1 594 5 view .LVU461
 1331              		.loc 1 594 5 view .LVU462
 1332              	.LBB84:
 1333              	.LBI84:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1334              		.loc 2 129 27 view .LVU463
 1335              	.LBB85:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1336              		.loc 2 131 3 view .LVU464
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 39


 1337              		.syntax unified
 1338              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1339 0048 62B6     		cpsie i
 1340              	@ 0 "" 2
 1341              		.thumb
 1342              		.syntax unified
 1343              	.LBE85:
 1344              	.LBE84:
 1345              		.loc 1 594 5 view .LVU465
 595:User/fifo/fifo.c **** 
 596:User/fifo/fifo.c ****     return retval;
 1346              		.loc 1 596 5 view .LVU466
 1347              	.LVL114:
 1348              	.L59:
 597:User/fifo/fifo.c **** }
 1349              		.loc 1 597 1 is_stmt 0 view .LVU467
 1350 004a 2046     		mov	r0, r4
 1351 004c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1352              	.LVL115:
 1353              	.L70:
 562:User/fifo/fifo.c ****         return -1;
 1354              		.loc 1 562 9 is_stmt 1 view .LVU468
 562:User/fifo/fifo.c ****         return -1;
 1355              		.loc 1 562 9 view .LVU469
 1356              	.LBB86:
 1357              	.LBI86:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1358              		.loc 2 129 27 view .LVU470
 1359              	.LBB87:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1360              		.loc 2 131 3 view .LVU471
 1361              		.syntax unified
 1362              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1363 0050 62B6     		cpsie i
 1364              	@ 0 "" 2
 1365              		.thumb
 1366              		.syntax unified
 1367              	.LBE87:
 1368              	.LBE86:
 562:User/fifo/fifo.c ****         return -1;
 1369              		.loc 1 562 9 view .LVU472
 563:User/fifo/fifo.c ****     }
 1370              		.loc 1 563 9 view .LVU473
 563:User/fifo/fifo.c ****     }
 1371              		.loc 1 563 16 is_stmt 0 view .LVU474
 1372 0052 4FF0FF34 		mov	r4, #-1
 1373 0056 F8E7     		b	.L59
 1374              	.L71:
 568:User/fifo/fifo.c ****         return -1;
 1375              		.loc 1 568 9 is_stmt 1 view .LVU475
 568:User/fifo/fifo.c ****         return -1;
 1376              		.loc 1 568 9 view .LVU476
 1377              	.LBB88:
 1378              	.LBI88:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1379              		.loc 2 129 27 view .LVU477
 1380              	.LBB89:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 40


 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1381              		.loc 2 131 3 view .LVU478
 1382              		.syntax unified
 1383              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1384 0058 62B6     		cpsie i
 1385              	@ 0 "" 2
 1386              		.thumb
 1387              		.syntax unified
 1388              	.LBE89:
 1389              	.LBE88:
 568:User/fifo/fifo.c ****         return -1;
 1390              		.loc 1 568 9 view .LVU479
 569:User/fifo/fifo.c ****     }
 1391              		.loc 1 569 9 view .LVU480
 569:User/fifo/fifo.c ****     }
 1392              		.loc 1 569 16 is_stmt 0 view .LVU481
 1393 005a 4FF0FF34 		mov	r4, #-1
 1394 005e F4E7     		b	.L59
 1395              	.LVL116:
 1396              	.L64:
 588:User/fifo/fifo.c ****         memcpy(p_dest, tmp_read_addr, len_to_end);
 1397              		.loc 1 588 9 is_stmt 1 view .LVU482
 588:User/fifo/fifo.c ****         memcpy(p_dest, tmp_read_addr, len_to_end);
 1398              		.loc 1 588 24 is_stmt 0 view .LVU483
 1399 0060 661B     		subs	r6, r4, r5
 1400              	.LVL117:
 589:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1401              		.loc 1 589 9 is_stmt 1 view .LVU484
 1402 0062 2A46     		mov	r2, r5
 1403              	.LVL118:
 589:User/fifo/fifo.c ****         memcpy(p_dest + len_to_end, p_fifo->p_start_addr, len_from_start);
 1404              		.loc 1 589 9 is_stmt 0 view .LVU485
 1405 0064 4046     		mov	r0, r8
 1406 0066 FFF7FEFF 		bl	memcpy
 1407              	.LVL119:
 590:User/fifo/fifo.c ****     }
 1408              		.loc 1 590 9 is_stmt 1 view .LVU486
 1409 006a 3246     		mov	r2, r6
 1410 006c 3968     		ldr	r1, [r7]
 1411 006e 08EB0500 		add	r0, r8, r5
 1412 0072 FFF7FEFF 		bl	memcpy
 1413              	.LVL120:
 1414 0076 E7E7     		b	.L65
 1415              	.LVL121:
 1416              	.L66:
 545:User/fifo/fifo.c ****     }
 1417              		.loc 1 545 16 is_stmt 0 view .LVU487
 1418 0078 4FF0FF34 		mov	r4, #-1
 1419 007c E5E7     		b	.L59
 1420              	.LVL122:
 1421              	.L67:
 550:User/fifo/fifo.c ****     }
 1422              		.loc 1 550 16 view .LVU488
 1423 007e 4FF0FF34 		mov	r4, #-1
 1424 0082 E2E7     		b	.L59
 1425              	.L68:
 555:User/fifo/fifo.c ****     }
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 41


 1426              		.loc 1 555 16 view .LVU489
 1427 0084 4FF0FF34 		mov	r4, #-1
 1428 0088 DFE7     		b	.L59
 1429              		.cfi_endproc
 1430              	.LFE57:
 1432              		.section	.text.fifo_s_isempty,"ax",%progbits
 1433              		.align	1
 1434              		.global	fifo_s_isempty
 1435              		.syntax unified
 1436              		.thumb
 1437              		.thumb_func
 1439              	fifo_s_isempty:
 1440              	.LVL123:
 1441              	.LFB58:
 598:User/fifo/fifo.c **** 
 599:User/fifo/fifo.c **** //******************************************************************************************
 600:User/fifo/fifo.c **** //
 601:User/fifo/fifo.c **** //! \brief  FIFO is empty (in single mode)?
 602:User/fifo/fifo.c **** //!
 603:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 604:User/fifo/fifo.c **** //!
 605:User/fifo/fifo.c **** //! \retval - None-zero(true) if empty.
 606:User/fifo/fifo.c **** //!         - Zero(false) if not empty.
 607:User/fifo/fifo.c **** //
 608:User/fifo/fifo.c **** //******************************************************************************************
 609:User/fifo/fifo.c **** char fifo_s_isempty(fifo_s_t *p_fifo)
 610:User/fifo/fifo.c **** {
 1442              		.loc 1 610 1 is_stmt 1 view -0
 1443              		.cfi_startproc
 1444              		@ args = 0, pretend = 0, frame = 0
 1445              		@ frame_needed = 0, uses_anonymous_args = 0
 1446              		@ link register save eliminated.
 611:User/fifo/fifo.c ****     //! Check input parameter.
 612:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1447              		.loc 1 612 19 view .LVU491
 613:User/fifo/fifo.c ****     return (p_fifo->used_num ? 0 : 1);
 1448              		.loc 1 613 5 view .LVU492
 1449              		.loc 1 613 19 is_stmt 0 view .LVU493
 1450 0000 C068     		ldr	r0, [r0, #12]
 1451              	.LVL124:
 614:User/fifo/fifo.c **** }
 1452              		.loc 1 614 1 view .LVU494
 1453 0002 B0FA80F0 		clz	r0, r0
 1454 0006 4009     		lsrs	r0, r0, #5
 1455 0008 7047     		bx	lr
 1456              		.cfi_endproc
 1457              	.LFE58:
 1459              		.section	.text.fifo_s_isfull,"ax",%progbits
 1460              		.align	1
 1461              		.global	fifo_s_isfull
 1462              		.syntax unified
 1463              		.thumb
 1464              		.thumb_func
 1466              	fifo_s_isfull:
 1467              	.LVL125:
 1468              	.LFB59:
 615:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 42


 616:User/fifo/fifo.c **** //******************************************************************************************
 617:User/fifo/fifo.c **** //
 618:User/fifo/fifo.c **** //! \brief  FIFO is full (in single mode)?
 619:User/fifo/fifo.c **** //!
 620:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 621:User/fifo/fifo.c **** //!
 622:User/fifo/fifo.c **** //! \retval - None-zero(true) if full.
 623:User/fifo/fifo.c **** //!         - Zero(false) if not full.
 624:User/fifo/fifo.c **** //
 625:User/fifo/fifo.c **** //******************************************************************************************
 626:User/fifo/fifo.c **** char fifo_s_isfull(fifo_s_t *p_fifo)
 627:User/fifo/fifo.c **** {
 1469              		.loc 1 627 1 is_stmt 1 view -0
 1470              		.cfi_startproc
 1471              		@ args = 0, pretend = 0, frame = 0
 1472              		@ frame_needed = 0, uses_anonymous_args = 0
 1473              		@ link register save eliminated.
 628:User/fifo/fifo.c ****     //! Check input parameter.
 629:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1474              		.loc 1 629 19 view .LVU496
 630:User/fifo/fifo.c ****     return (p_fifo->free_num ? 0 : 1);
 1475              		.loc 1 630 5 view .LVU497
 1476              		.loc 1 630 19 is_stmt 0 view .LVU498
 1477 0000 8068     		ldr	r0, [r0, #8]
 1478              	.LVL126:
 631:User/fifo/fifo.c **** }
 1479              		.loc 1 631 1 view .LVU499
 1480 0002 B0FA80F0 		clz	r0, r0
 1481 0006 4009     		lsrs	r0, r0, #5
 1482 0008 7047     		bx	lr
 1483              		.cfi_endproc
 1484              	.LFE59:
 1486              		.section	.text.fifo_s_used,"ax",%progbits
 1487              		.align	1
 1488              		.global	fifo_s_used
 1489              		.syntax unified
 1490              		.thumb
 1491              		.thumb_func
 1493              	fifo_s_used:
 1494              	.LVL127:
 1495              	.LFB60:
 632:User/fifo/fifo.c **** 
 633:User/fifo/fifo.c **** //******************************************************************************************
 634:User/fifo/fifo.c **** //
 635:User/fifo/fifo.c **** //! \brief  Get FIFO the number of elements(in single mode)?
 636:User/fifo/fifo.c **** //!
 637:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 638:User/fifo/fifo.c **** //!
 639:User/fifo/fifo.c **** //! \retval The number of elements in FIFO.
 640:User/fifo/fifo.c **** //
 641:User/fifo/fifo.c **** //******************************************************************************************
 642:User/fifo/fifo.c **** int fifo_s_used(fifo_s_t *p_fifo)
 643:User/fifo/fifo.c **** {
 1496              		.loc 1 643 1 is_stmt 1 view -0
 1497              		.cfi_startproc
 1498              		@ args = 0, pretend = 0, frame = 0
 1499              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 43


 1500              		@ link register save eliminated.
 644:User/fifo/fifo.c ****     //! Check input parameter.
 645:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1501              		.loc 1 645 19 view .LVU501
 646:User/fifo/fifo.c ****     return p_fifo->used_num;
 1502              		.loc 1 646 5 view .LVU502
 647:User/fifo/fifo.c **** }
 1503              		.loc 1 647 1 is_stmt 0 view .LVU503
 1504 0000 C068     		ldr	r0, [r0, #12]
 1505              	.LVL128:
 1506              		.loc 1 647 1 view .LVU504
 1507 0002 7047     		bx	lr
 1508              		.cfi_endproc
 1509              	.LFE60:
 1511              		.section	.text.fifo_s_free,"ax",%progbits
 1512              		.align	1
 1513              		.global	fifo_s_free
 1514              		.syntax unified
 1515              		.thumb
 1516              		.thumb_func
 1518              	fifo_s_free:
 1519              	.LVL129:
 1520              	.LFB61:
 648:User/fifo/fifo.c **** 
 649:User/fifo/fifo.c **** //******************************************************************************************
 650:User/fifo/fifo.c **** //
 651:User/fifo/fifo.c **** //! \brief  Get FIFO the number of elements(in single mode)?
 652:User/fifo/fifo.c **** //!
 653:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 654:User/fifo/fifo.c **** //!
 655:User/fifo/fifo.c **** //! \retval The number of elements in FIFO.
 656:User/fifo/fifo.c **** //
 657:User/fifo/fifo.c **** //******************************************************************************************
 658:User/fifo/fifo.c **** int fifo_s_free(fifo_s_t *p_fifo)
 659:User/fifo/fifo.c **** {
 1521              		.loc 1 659 1 is_stmt 1 view -0
 1522              		.cfi_startproc
 1523              		@ args = 0, pretend = 0, frame = 0
 1524              		@ frame_needed = 0, uses_anonymous_args = 0
 1525              		@ link register save eliminated.
 660:User/fifo/fifo.c ****     //! Check input parameter.
 661:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1526              		.loc 1 661 19 view .LVU506
 662:User/fifo/fifo.c ****     return p_fifo->free_num;
 1527              		.loc 1 662 5 view .LVU507
 663:User/fifo/fifo.c **** }
 1528              		.loc 1 663 1 is_stmt 0 view .LVU508
 1529 0000 8068     		ldr	r0, [r0, #8]
 1530              	.LVL130:
 1531              		.loc 1 663 1 view .LVU509
 1532 0002 7047     		bx	lr
 1533              		.cfi_endproc
 1534              	.LFE61:
 1536              		.section	.text.fifo_s_flush,"ax",%progbits
 1537              		.align	1
 1538              		.global	fifo_s_flush
 1539              		.syntax unified
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 44


 1540              		.thumb
 1541              		.thumb_func
 1543              	fifo_s_flush:
 1544              	.LVL131:
 1545              	.LFB62:
 664:User/fifo/fifo.c **** 
 665:User/fifo/fifo.c **** //******************************************************************************************
 666:User/fifo/fifo.c **** //
 667:User/fifo/fifo.c **** //! \brief  Flush the content of FIFO.
 668:User/fifo/fifo.c **** //!
 669:User/fifo/fifo.c **** //! \param  [in] p_fifo is the pointer of valid FIFO.
 670:User/fifo/fifo.c **** //!
 671:User/fifo/fifo.c **** //! \retval 0 if success, -1 if failure.
 672:User/fifo/fifo.c **** //
 673:User/fifo/fifo.c **** //******************************************************************************************
 674:User/fifo/fifo.c **** void fifo_s_flush(fifo_s_t *p_fifo)
 675:User/fifo/fifo.c **** {
 1546              		.loc 1 675 1 is_stmt 1 view -0
 1547              		.cfi_startproc
 1548              		@ args = 0, pretend = 0, frame = 0
 1549              		@ frame_needed = 0, uses_anonymous_args = 0
 1550              		@ link register save eliminated.
 676:User/fifo/fifo.c ****     //! Check input parameters.
 677:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1551              		.loc 1 677 19 view .LVU511
 678:User/fifo/fifo.c ****     //! Initialize FIFO Control Block.
 679:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 1552              		.loc 1 679 5 view .LVU512
 1553              		.loc 1 679 5 view .LVU513
 1554              	.LBB90:
 1555              	.LBI90:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1556              		.loc 2 140 27 view .LVU514
 1557              	.LBB91:
 1558              		.loc 2 142 3 view .LVU515
 1559              		.syntax unified
 1560              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1561 0000 72B6     		cpsid i
 1562              	@ 0 "" 2
 1563              		.thumb
 1564              		.syntax unified
 1565              	.LBE91:
 1566              	.LBE90:
 1567              		.loc 1 679 5 view .LVU516
 680:User/fifo/fifo.c ****     p_fifo->free_num = p_fifo->p_end_addr - p_fifo->p_start_addr + 1;
 1568              		.loc 1 680 5 view .LVU517
 1569              		.loc 1 680 30 is_stmt 0 view .LVU518
 1570 0002 4368     		ldr	r3, [r0, #4]
 1571              		.loc 1 680 51 view .LVU519
 1572 0004 0268     		ldr	r2, [r0]
 1573              		.loc 1 680 43 view .LVU520
 1574 0006 9B1A     		subs	r3, r3, r2
 1575              		.loc 1 680 66 view .LVU521
 1576 0008 0133     		adds	r3, r3, #1
 1577              		.loc 1 680 22 view .LVU522
 1578 000a 8360     		str	r3, [r0, #8]
 681:User/fifo/fifo.c ****     p_fifo->used_num = 0;
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 45


 1579              		.loc 1 681 5 is_stmt 1 view .LVU523
 1580              		.loc 1 681 22 is_stmt 0 view .LVU524
 1581 000c 0023     		movs	r3, #0
 1582 000e C360     		str	r3, [r0, #12]
 682:User/fifo/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 1583              		.loc 1 682 5 is_stmt 1 view .LVU525
 1584              		.loc 1 682 25 is_stmt 0 view .LVU526
 1585 0010 0261     		str	r2, [r0, #16]
 683:User/fifo/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 1586              		.loc 1 683 5 is_stmt 1 view .LVU527
 1587              		.loc 1 683 26 is_stmt 0 view .LVU528
 1588 0012 4261     		str	r2, [r0, #20]
 684:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 1589              		.loc 1 684 5 is_stmt 1 view .LVU529
 1590              		.loc 1 684 5 view .LVU530
 1591              	.LBB92:
 1592              	.LBI92:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1593              		.loc 2 129 27 view .LVU531
 1594              	.LBB93:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1595              		.loc 2 131 3 view .LVU532
 1596              		.syntax unified
 1597              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1598 0014 62B6     		cpsie i
 1599              	@ 0 "" 2
 1600              		.thumb
 1601              		.syntax unified
 1602              	.LBE93:
 1603              	.LBE92:
 1604              		.loc 1 684 5 view .LVU533
 685:User/fifo/fifo.c **** }
 1605              		.loc 1 685 1 is_stmt 0 view .LVU534
 1606 0016 7047     		bx	lr
 1607              		.cfi_endproc
 1608              	.LFE62:
 1610              		.section	.text.fifo_s_discard,"ax",%progbits
 1611              		.align	1
 1612              		.global	fifo_s_discard
 1613              		.syntax unified
 1614              		.thumb
 1615              		.thumb_func
 1617              	fifo_s_discard:
 1618              	.LVL132:
 1619              	.LFB63:
 686:User/fifo/fifo.c **** 
 687:User/fifo/fifo.c **** int fifo_s_discard(fifo_s_t *p_fifo, int len)
 688:User/fifo/fifo.c **** {
 1620              		.loc 1 688 1 is_stmt 1 view -0
 1621              		.cfi_startproc
 1622              		@ args = 0, pretend = 0, frame = 0
 1623              		@ frame_needed = 0, uses_anonymous_args = 0
 1624              		@ link register save eliminated.
 1625              		.loc 1 688 1 is_stmt 0 view .LVU536
 1626 0000 10B4     		push	{r4}
 1627              	.LCFI7:
 1628              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 46


 1629              		.cfi_offset 4, -4
 1630 0002 0346     		mov	r3, r0
 1631 0004 0846     		mov	r0, r1
 1632              	.LVL133:
 689:User/fifo/fifo.c ****     //! Check input parameters.
 690:User/fifo/fifo.c ****     char *tmp_index;
 1633              		.loc 1 690 5 is_stmt 1 view .LVU537
 691:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1634              		.loc 1 691 19 view .LVU538
 692:User/fifo/fifo.c **** 
 693:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 1635              		.loc 1 693 5 view .LVU539
 1636              		.loc 1 693 5 view .LVU540
 1637              	.LBB94:
 1638              	.LBI94:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1639              		.loc 2 140 27 view .LVU541
 1640              	.LBB95:
 1641              		.loc 2 142 3 view .LVU542
 1642              		.syntax unified
 1643              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1644 0006 72B6     		cpsid i
 1645              	@ 0 "" 2
 1646              		.thumb
 1647              		.syntax unified
 1648              	.LBE95:
 1649              	.LBE94:
 1650              		.loc 1 693 5 view .LVU543
 694:User/fifo/fifo.c ****     if (len > p_fifo->used_num)
 1651              		.loc 1 694 5 view .LVU544
 1652              		.loc 1 694 21 is_stmt 0 view .LVU545
 1653 0008 D968     		ldr	r1, [r3, #12]
 1654              	.LVL134:
 1655              		.loc 1 694 8 view .LVU546
 1656 000a 8142     		cmp	r1, r0
 1657 000c 00DA     		bge	.L78
 695:User/fifo/fifo.c ****     {
 696:User/fifo/fifo.c ****         len = p_fifo->used_num;
 1658              		.loc 1 696 13 view .LVU547
 1659 000e 0846     		mov	r0, r1
 1660              	.LVL135:
 1661              	.L78:
 697:User/fifo/fifo.c ****     }
 698:User/fifo/fifo.c **** 
 699:User/fifo/fifo.c ****     tmp_index = len + p_fifo->p_read_addr;
 1662              		.loc 1 699 5 is_stmt 1 view .LVU548
 1663              		.loc 1 699 29 is_stmt 0 view .LVU549
 1664 0010 1A69     		ldr	r2, [r3, #16]
 1665              		.loc 1 699 15 view .LVU550
 1666 0012 0244     		add	r2, r2, r0
 1667              	.LVL136:
 700:User/fifo/fifo.c ****     if (tmp_index > p_fifo->p_end_addr)
 1668              		.loc 1 700 5 is_stmt 1 view .LVU551
 1669              		.loc 1 700 27 is_stmt 0 view .LVU552
 1670 0014 5C68     		ldr	r4, [r3, #4]
 1671              		.loc 1 700 8 view .LVU553
 1672 0016 9442     		cmp	r4, r2
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 47


 1673 0018 03D2     		bcs	.L79
 701:User/fifo/fifo.c ****     {
 702:User/fifo/fifo.c ****         tmp_index = tmp_index - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 1674              		.loc 1 702 9 is_stmt 1 view .LVU554
 1675              		.loc 1 702 31 is_stmt 0 view .LVU555
 1676 001a 121B     		subs	r2, r2, r4
 1677              	.LVL137:
 1678              		.loc 1 702 75 view .LVU556
 1679 001c 013A     		subs	r2, r2, #1
 1680              		.loc 1 702 19 view .LVU557
 1681 001e 1C68     		ldr	r4, [r3]
 1682 0020 2244     		add	r2, r2, r4
 1683              	.LVL138:
 1684              	.L79:
 703:User/fifo/fifo.c ****     }
 704:User/fifo/fifo.c ****     p_fifo->p_read_addr = tmp_index;
 1685              		.loc 1 704 5 is_stmt 1 view .LVU558
 1686              		.loc 1 704 25 is_stmt 0 view .LVU559
 1687 0022 1A61     		str	r2, [r3, #16]
 705:User/fifo/fifo.c ****     p_fifo->free_num += len;
 1688              		.loc 1 705 5 is_stmt 1 view .LVU560
 1689              		.loc 1 705 22 is_stmt 0 view .LVU561
 1690 0024 9A68     		ldr	r2, [r3, #8]
 1691              	.LVL139:
 1692              		.loc 1 705 22 view .LVU562
 1693 0026 0244     		add	r2, r2, r0
 1694 0028 9A60     		str	r2, [r3, #8]
 706:User/fifo/fifo.c ****     p_fifo->used_num -= len;
 1695              		.loc 1 706 5 is_stmt 1 view .LVU563
 1696              		.loc 1 706 22 is_stmt 0 view .LVU564
 1697 002a 091A     		subs	r1, r1, r0
 1698 002c D960     		str	r1, [r3, #12]
 707:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 1699              		.loc 1 707 5 is_stmt 1 view .LVU565
 1700              		.loc 1 707 5 view .LVU566
 1701              	.LBB96:
 1702              	.LBI96:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1703              		.loc 2 129 27 view .LVU567
 1704              	.LBB97:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 1705              		.loc 2 131 3 view .LVU568
 1706              		.syntax unified
 1707              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1708 002e 62B6     		cpsie i
 1709              	@ 0 "" 2
 1710              		.thumb
 1711              		.syntax unified
 1712              	.LBE97:
 1713              	.LBE96:
 1714              		.loc 1 707 5 view .LVU569
 708:User/fifo/fifo.c ****     return len;
 1715              		.loc 1 708 5 view .LVU570
 709:User/fifo/fifo.c **** }
 1716              		.loc 1 709 1 is_stmt 0 view .LVU571
 1717 0030 10BC     		pop	{r4}
 1718              	.LCFI8:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 48


 1719              		.cfi_restore 4
 1720              		.cfi_def_cfa_offset 0
 1721 0032 7047     		bx	lr
 1722              		.cfi_endproc
 1723              	.LFE63:
 1725              		.section	.text.fifo_destory,"ax",%progbits
 1726              		.align	1
 1727              		.global	fifo_destory
 1728              		.syntax unified
 1729              		.thumb
 1730              		.thumb_func
 1732              	fifo_destory:
 1733              	.LVL140:
 1734              	.LFB65:
 710:User/fifo/fifo.c **** 
 711:User/fifo/fifo.c **** #ifdef USE_DYNAMIC_MEMORY
 712:User/fifo/fifo.c **** //******************************************************************************************
 713:User/fifo/fifo.c **** //
 714:User/fifo/fifo.c **** //! \brief  Create An New FIFO Instance.
 715:User/fifo/fifo.c **** //! This function allocate enought room for N blocks fifo elements, then return the pointer
 716:User/fifo/fifo.c **** //! of FIFO.
 717:User/fifo/fifo.c **** //!
 718:User/fifo/fifo.c **** //! \param  [in] UnitSize is fifo element size.
 719:User/fifo/fifo.c **** //! \param  [in] UnitCnt is count of fifo elements.
 720:User/fifo/fifo.c **** //! \retval The Pointer of FIFO instance, return NULL is failure to allocate memory.
 721:User/fifo/fifo.c **** //!
 722:User/fifo/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
 723:User/fifo/fifo.c **** //!            Header file before use this function.
 724:User/fifo/fifo.c **** //! \note   -# Functions FIFO_Create and FIFO_Destory must be used in pairs.
 725:User/fifo/fifo.c **** //!
 726:User/fifo/fifo.c **** //******************************************************************************************
 727:User/fifo/fifo.c **** fifo_t *fifo_create(char unit_size, int unit_cnt)
 728:User/fifo/fifo.c **** {
 729:User/fifo/fifo.c ****     fifo_t *p_fifo = NULL;    //!< FIFO Pointer
 730:User/fifo/fifo.c ****     char *p_base_addr = NULL; //!< Memory Base Address
 731:User/fifo/fifo.c **** 
 732:User/fifo/fifo.c ****     //! Check input parameters.
 733:User/fifo/fifo.c ****     ASSERT(unit_size);
 734:User/fifo/fifo.c ****     ASSERT(unit_cnt);
 735:User/fifo/fifo.c **** 
 736:User/fifo/fifo.c ****     //! Allocate Memory for pointer of new FIFO Control Block.
 737:User/fifo/fifo.c ****     p_fifo = (fifo_t *)malloc(sizeof(fifo_t));
 738:User/fifo/fifo.c ****     if (NULL == p_fifo)
 739:User/fifo/fifo.c ****     {
 740:User/fifo/fifo.c ****         //! Allocate Failure, exit now.
 741:User/fifo/fifo.c ****         return (NULL);
 742:User/fifo/fifo.c ****     }
 743:User/fifo/fifo.c **** 
 744:User/fifo/fifo.c ****     //! Allocate memory for FIFO.
 745:User/fifo/fifo.c ****     p_base_addr = malloc(unit_size * unit_cnt);
 746:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 747:User/fifo/fifo.c ****     {
 748:User/fifo/fifo.c ****         //! Allocate Failure, exit now.
 749:User/fifo/fifo.c ****         free(p_fifo);
 750:User/fifo/fifo.c ****         return (NULL);
 751:User/fifo/fifo.c ****     }
 752:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 49


 753:User/fifo/fifo.c ****     //! Initialize General FIFO Module.
 754:User/fifo/fifo.c ****     fifo_init(p_fifo, p_base_addr, unit_size, unit_cnt);
 755:User/fifo/fifo.c **** 
 756:User/fifo/fifo.c ****     return (p_fifo);
 757:User/fifo/fifo.c **** }
 758:User/fifo/fifo.c **** 
 759:User/fifo/fifo.c **** //******************************************************************************************
 760:User/fifo/fifo.c **** //
 761:User/fifo/fifo.c **** //! \brief  Destory FIFO Instance.
 762:User/fifo/fifo.c **** //!  This function release memory, then reinit the FIFO struct.
 763:User/fifo/fifo.c **** //!
 764:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of FIFO instance
 765:User/fifo/fifo.c **** //! \retval None.
 766:User/fifo/fifo.c **** //!
 767:User/fifo/fifo.c **** //! \note   -# You must enable USE_MEMORY_ALLOC macro and ensure your system have <stdlib.h>
 768:User/fifo/fifo.c **** //!            Header file before use this function.
 769:User/fifo/fifo.c **** //
 770:User/fifo/fifo.c **** //******************************************************************************************
 771:User/fifo/fifo.c **** void fifo_destory(fifo_t *p_fifo)
 772:User/fifo/fifo.c **** {
 1735              		.loc 1 772 1 is_stmt 1 view -0
 1736              		.cfi_startproc
 1737              		@ args = 0, pretend = 0, frame = 0
 1738              		@ frame_needed = 0, uses_anonymous_args = 0
 1739              		.loc 1 772 1 is_stmt 0 view .LVU573
 1740 0000 10B5     		push	{r4, lr}
 1741              	.LCFI9:
 1742              		.cfi_def_cfa_offset 8
 1743              		.cfi_offset 4, -8
 1744              		.cfi_offset 14, -4
 1745 0002 0446     		mov	r4, r0
 773:User/fifo/fifo.c ****     //! Check input parameters.
 774:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1746              		.loc 1 774 19 is_stmt 1 view .LVU574
 775:User/fifo/fifo.c ****     ASSERT(p_fifo->p_start_addr);
 1747              		.loc 1 775 33 view .LVU575
 776:User/fifo/fifo.c **** 
 777:User/fifo/fifo.c ****     //! Free FIFO memory
 778:User/fifo/fifo.c ****     free(p_fifo->p_start_addr);
 1748              		.loc 1 778 5 view .LVU576
 1749 0004 0068     		ldr	r0, [r0]
 1750              	.LVL141:
 1751              		.loc 1 778 5 is_stmt 0 view .LVU577
 1752 0006 FFF7FEFF 		bl	free
 1753              	.LVL142:
 779:User/fifo/fifo.c ****     //! Free FIFO Control Block memory.
 780:User/fifo/fifo.c ****     free(p_fifo);
 1754              		.loc 1 780 5 is_stmt 1 view .LVU578
 1755 000a 2046     		mov	r0, r4
 1756 000c FFF7FEFF 		bl	free
 1757              	.LVL143:
 781:User/fifo/fifo.c **** 
 782:User/fifo/fifo.c ****     return; //!< Success
 1758              		.loc 1 782 5 view .LVU579
 783:User/fifo/fifo.c **** }
 1759              		.loc 1 783 1 is_stmt 0 view .LVU580
 1760 0010 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 50


 1761              		.loc 1 783 1 view .LVU581
 1762              		.cfi_endproc
 1763              	.LFE65:
 1765              		.section	.text.fifo_init,"ax",%progbits
 1766              		.align	1
 1767              		.global	fifo_init
 1768              		.syntax unified
 1769              		.thumb
 1770              		.thumb_func
 1772              	fifo_init:
 1773              	.LVL144:
 1774              	.LFB66:
 784:User/fifo/fifo.c **** 
 785:User/fifo/fifo.c **** #endif // USE_DYNAMIC_MEMORY
 786:User/fifo/fifo.c **** 
 787:User/fifo/fifo.c **** //******************************************************************************************
 788:User/fifo/fifo.c **** //
 789:User/fifo/fifo.c **** //! \brief  Initialize an static FIFO struct.
 790:User/fifo/fifo.c **** //!
 791:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO instance.
 792:User/fifo/fifo.c **** //! \param  [in] pBaseAddr is the base address of pre-allocate memory, such as array.
 793:User/fifo/fifo.c **** //! \param  [in] UnitSize is fifo element size.
 794:User/fifo/fifo.c **** //! \param  [in] UnitCnt is count of fifo elements.
 795:User/fifo/fifo.c **** //! \retval 0 if initialize successfully, otherwise return -1.
 796:User/fifo/fifo.c **** //
 797:User/fifo/fifo.c **** //******************************************************************************************
 798:User/fifo/fifo.c **** int fifo_init(fifo_t *p_fifo, void *p_base_addr, char unit_size, int unit_cnt)
 799:User/fifo/fifo.c **** {
 1775              		.loc 1 799 1 is_stmt 1 view -0
 1776              		.cfi_startproc
 1777              		@ args = 0, pretend = 0, frame = 0
 1778              		@ frame_needed = 0, uses_anonymous_args = 0
 1779              		@ link register save eliminated.
 1780              		.loc 1 799 1 is_stmt 0 view .LVU583
 1781 0000 8446     		mov	ip, r0
 800:User/fifo/fifo.c ****     //! Check input parameters.
 801:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1782              		.loc 1 801 19 is_stmt 1 view .LVU584
 802:User/fifo/fifo.c ****     ASSERT(p_base_addr);
 1783              		.loc 1 802 24 view .LVU585
 803:User/fifo/fifo.c ****     ASSERT(unit_size);
 1784              		.loc 1 803 22 view .LVU586
 804:User/fifo/fifo.c ****     ASSERT(unit_cnt);
 1785              		.loc 1 804 21 view .LVU587
 805:User/fifo/fifo.c **** 
 806:User/fifo/fifo.c ****     //! Initialize FIFO Control Block.
 807:User/fifo/fifo.c ****     p_fifo->p_start_addr = (char *)p_base_addr;
 1786              		.loc 1 807 5 view .LVU588
 1787              		.loc 1 807 26 is_stmt 0 view .LVU589
 1788 0002 0160     		str	r1, [r0]
 808:User/fifo/fifo.c ****     p_fifo->p_end_addr = (char *)p_base_addr + unit_size * unit_cnt - 1;
 1789              		.loc 1 808 5 is_stmt 1 view .LVU590
 1790              		.loc 1 808 58 is_stmt 0 view .LVU591
 1791 0004 03FB02F0 		mul	r0, r3, r2
 1792              	.LVL145:
 1793              		.loc 1 808 69 view .LVU592
 1794 0008 0138     		subs	r0, r0, #1
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 51


 1795 000a 0844     		add	r0, r0, r1
 1796              		.loc 1 808 24 view .LVU593
 1797 000c CCF80400 		str	r0, [ip, #4]
 809:User/fifo/fifo.c ****     p_fifo->free_num = unit_cnt;
 1798              		.loc 1 809 5 is_stmt 1 view .LVU594
 1799              		.loc 1 809 22 is_stmt 0 view .LVU595
 1800 0010 CCF80830 		str	r3, [ip, #8]
 810:User/fifo/fifo.c ****     p_fifo->used_num = 0;
 1801              		.loc 1 810 5 is_stmt 1 view .LVU596
 1802              		.loc 1 810 22 is_stmt 0 view .LVU597
 1803 0014 0020     		movs	r0, #0
 1804 0016 CCF80C00 		str	r0, [ip, #12]
 811:User/fifo/fifo.c ****     p_fifo->unit_size = unit_size;
 1805              		.loc 1 811 5 is_stmt 1 view .LVU598
 1806              		.loc 1 811 23 is_stmt 0 view .LVU599
 1807 001a CCF81020 		str	r2, [ip, #16]
 812:User/fifo/fifo.c ****     p_fifo->p_read_addr = (char *)p_base_addr;
 1808              		.loc 1 812 5 is_stmt 1 view .LVU600
 1809              		.loc 1 812 25 is_stmt 0 view .LVU601
 1810 001e CCF81410 		str	r1, [ip, #20]
 813:User/fifo/fifo.c ****     p_fifo->p_write_addr = (char *)p_base_addr;
 1811              		.loc 1 813 5 is_stmt 1 view .LVU602
 1812              		.loc 1 813 26 is_stmt 0 view .LVU603
 1813 0022 CCF81810 		str	r1, [ip, #24]
 814:User/fifo/fifo.c **** 
 815:User/fifo/fifo.c ****     MUTEX_INIT(p_fifo->mutex);
 1814              		.loc 1 815 5 is_stmt 1 view .LVU604
 1815              		.loc 1 815 5 view .LVU605
 1816 0026 CCF81C00 		str	r0, [ip, #28]
 1817              		.loc 1 815 5 view .LVU606
 816:User/fifo/fifo.c **** 
 817:User/fifo/fifo.c ****     return (0);
 1818              		.loc 1 817 5 view .LVU607
 818:User/fifo/fifo.c **** }
 1819              		.loc 1 818 1 is_stmt 0 view .LVU608
 1820 002a 7047     		bx	lr
 1821              		.cfi_endproc
 1822              	.LFE66:
 1824              		.section	.text.fifo_create,"ax",%progbits
 1825              		.align	1
 1826              		.global	fifo_create
 1827              		.syntax unified
 1828              		.thumb
 1829              		.thumb_func
 1831              	fifo_create:
 1832              	.LVL146:
 1833              	.LFB64:
 728:User/fifo/fifo.c ****     fifo_t *p_fifo = NULL;    //!< FIFO Pointer
 1834              		.loc 1 728 1 is_stmt 1 view -0
 1835              		.cfi_startproc
 1836              		@ args = 0, pretend = 0, frame = 0
 1837              		@ frame_needed = 0, uses_anonymous_args = 0
 728:User/fifo/fifo.c ****     fifo_t *p_fifo = NULL;    //!< FIFO Pointer
 1838              		.loc 1 728 1 is_stmt 0 view .LVU610
 1839 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1840              	.LCFI10:
 1841              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 52


 1842              		.cfi_offset 3, -24
 1843              		.cfi_offset 4, -20
 1844              		.cfi_offset 5, -16
 1845              		.cfi_offset 6, -12
 1846              		.cfi_offset 7, -8
 1847              		.cfi_offset 14, -4
 1848 0002 0446     		mov	r4, r0
 1849 0004 0D46     		mov	r5, r1
 729:User/fifo/fifo.c ****     char *p_base_addr = NULL; //!< Memory Base Address
 1850              		.loc 1 729 5 is_stmt 1 view .LVU611
 1851              	.LVL147:
 730:User/fifo/fifo.c **** 
 1852              		.loc 1 730 5 view .LVU612
 733:User/fifo/fifo.c ****     ASSERT(unit_cnt);
 1853              		.loc 1 733 22 view .LVU613
 734:User/fifo/fifo.c **** 
 1854              		.loc 1 734 21 view .LVU614
 737:User/fifo/fifo.c ****     if (NULL == p_fifo)
 1855              		.loc 1 737 5 view .LVU615
 737:User/fifo/fifo.c ****     if (NULL == p_fifo)
 1856              		.loc 1 737 24 is_stmt 0 view .LVU616
 1857 0006 2020     		movs	r0, #32
 1858              	.LVL148:
 737:User/fifo/fifo.c ****     if (NULL == p_fifo)
 1859              		.loc 1 737 24 view .LVU617
 1860 0008 FFF7FEFF 		bl	malloc
 1861              	.LVL149:
 738:User/fifo/fifo.c ****     {
 1862              		.loc 1 738 5 is_stmt 1 view .LVU618
 738:User/fifo/fifo.c ****     {
 1863              		.loc 1 738 8 is_stmt 0 view .LVU619
 1864 000c 0646     		mov	r6, r0
 1865 000e 58B1     		cbz	r0, .L85
 745:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 1866              		.loc 1 745 5 is_stmt 1 view .LVU620
 745:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 1867              		.loc 1 745 19 is_stmt 0 view .LVU621
 1868 0010 05FB04F0 		mul	r0, r5, r4
 1869              	.LVL150:
 745:User/fifo/fifo.c ****     if (NULL == p_base_addr)
 1870              		.loc 1 745 19 view .LVU622
 1871 0014 FFF7FEFF 		bl	malloc
 1872              	.LVL151:
 746:User/fifo/fifo.c ****     {
 1873              		.loc 1 746 5 is_stmt 1 view .LVU623
 746:User/fifo/fifo.c ****     {
 1874              		.loc 1 746 8 is_stmt 0 view .LVU624
 1875 0018 0746     		mov	r7, r0
 1876 001a 38B1     		cbz	r0, .L89
 754:User/fifo/fifo.c **** 
 1877              		.loc 1 754 5 is_stmt 1 view .LVU625
 1878 001c 2B46     		mov	r3, r5
 1879 001e 2246     		mov	r2, r4
 1880 0020 0146     		mov	r1, r0
 1881 0022 3046     		mov	r0, r6
 1882              	.LVL152:
 754:User/fifo/fifo.c **** 
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 53


 1883              		.loc 1 754 5 is_stmt 0 view .LVU626
 1884 0024 FFF7FEFF 		bl	fifo_init
 1885              	.LVL153:
 756:User/fifo/fifo.c **** }
 1886              		.loc 1 756 5 is_stmt 1 view .LVU627
 1887              	.L85:
 757:User/fifo/fifo.c **** 
 1888              		.loc 1 757 1 is_stmt 0 view .LVU628
 1889 0028 3046     		mov	r0, r6
 1890 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1891              	.LVL154:
 1892              	.L89:
 749:User/fifo/fifo.c ****         return (NULL);
 1893              		.loc 1 749 9 is_stmt 1 view .LVU629
 1894 002c 3046     		mov	r0, r6
 1895              	.LVL155:
 749:User/fifo/fifo.c ****         return (NULL);
 1896              		.loc 1 749 9 is_stmt 0 view .LVU630
 1897 002e FFF7FEFF 		bl	free
 1898              	.LVL156:
 750:User/fifo/fifo.c ****     }
 1899              		.loc 1 750 9 is_stmt 1 view .LVU631
 750:User/fifo/fifo.c ****     }
 1900              		.loc 1 750 16 is_stmt 0 view .LVU632
 1901 0032 3E46     		mov	r6, r7
 1902              	.LVL157:
 750:User/fifo/fifo.c ****     }
 1903              		.loc 1 750 16 view .LVU633
 1904 0034 F8E7     		b	.L85
 1905              		.cfi_endproc
 1906              	.LFE64:
 1908              		.section	.text.fifo_put,"ax",%progbits
 1909              		.align	1
 1910              		.global	fifo_put
 1911              		.syntax unified
 1912              		.thumb
 1913              		.thumb_func
 1915              	fifo_put:
 1916              	.LVL158:
 1917              	.LFB67:
 819:User/fifo/fifo.c **** 
 820:User/fifo/fifo.c **** //******************************************************************************************
 821:User/fifo/fifo.c **** //
 822:User/fifo/fifo.c **** //! \brief  Put an element into FIFO.
 823:User/fifo/fifo.c **** //!
 824:User/fifo/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 825:User/fifo/fifo.c **** //! \param  [in]  pElement is the address of element you want to put
 826:User/fifo/fifo.c **** //!
 827:User/fifo/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 828:User/fifo/fifo.c **** //
 829:User/fifo/fifo.c **** //******************************************************************************************
 830:User/fifo/fifo.c **** int fifo_put(fifo_t *p_fifo, void *p_element)
 831:User/fifo/fifo.c **** {
 1918              		.loc 1 831 1 is_stmt 1 view -0
 1919              		.cfi_startproc
 1920              		@ args = 0, pretend = 0, frame = 0
 1921              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 54


 832:User/fifo/fifo.c ****     //! Check input parameters.
 833:User/fifo/fifo.c ****     ASSERT(p_fifo);
 1922              		.loc 1 833 19 view .LVU635
 834:User/fifo/fifo.c ****     ASSERT(p_element);
 1923              		.loc 1 834 22 view .LVU636
 835:User/fifo/fifo.c **** 
 836:User/fifo/fifo.c ****     // Full ?
 837:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 1924              		.loc 1 837 5 view .LVU637
 1925              		.loc 1 837 20 is_stmt 0 view .LVU638
 1926 0000 8368     		ldr	r3, [r0, #8]
 1927              		.loc 1 837 8 view .LVU639
 1928 0002 FBB1     		cbz	r3, .L94
 831:User/fifo/fifo.c ****     //! Check input parameters.
 1929              		.loc 1 831 1 view .LVU640
 1930 0004 10B5     		push	{r4, lr}
 1931              	.LCFI11:
 1932              		.cfi_def_cfa_offset 8
 1933              		.cfi_offset 4, -8
 1934              		.cfi_offset 14, -4
 1935 0006 0446     		mov	r4, r0
 838:User/fifo/fifo.c ****     {
 839:User/fifo/fifo.c ****         //! Error, FIFO is full!
 840:User/fifo/fifo.c ****         return (-1);
 841:User/fifo/fifo.c ****     }
 842:User/fifo/fifo.c **** 
 843:User/fifo/fifo.c ****     //! Copy Data
 844:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 1936              		.loc 1 844 5 is_stmt 1 view .LVU641
 1937              		.loc 1 844 5 view .LVU642
 1938              	.LBB98:
 1939              	.LBI98:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 1940              		.loc 2 140 27 view .LVU643
 1941              	.LBB99:
 1942              		.loc 2 142 3 view .LVU644
 1943              		.syntax unified
 1944              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1945 0008 72B6     		cpsid i
 1946              	@ 0 "" 2
 1947              		.thumb
 1948              		.syntax unified
 1949              	.LBE99:
 1950              	.LBE98:
 1951              		.loc 1 844 5 view .LVU645
 845:User/fifo/fifo.c **** 
 846:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 1952              		.loc 1 846 5 view .LVU646
 1953              		.loc 1 846 20 is_stmt 0 view .LVU647
 1954 000a 8368     		ldr	r3, [r0, #8]
 1955              		.loc 1 846 8 view .LVU648
 1956 000c B3B1     		cbz	r3, .L99
 847:User/fifo/fifo.c ****     {
 848:User/fifo/fifo.c ****         //! Error, FIFO is full!
 849:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 850:User/fifo/fifo.c ****         return (-1);
 851:User/fifo/fifo.c ****     }
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 55


 852:User/fifo/fifo.c **** 
 853:User/fifo/fifo.c ****     if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 1957              		.loc 1 853 5 is_stmt 1 view .LVU649
 1958              		.loc 1 853 15 is_stmt 0 view .LVU650
 1959 000e 8269     		ldr	r2, [r0, #24]
 1960              		.loc 1 853 38 view .LVU651
 1961 0010 4368     		ldr	r3, [r0, #4]
 1962              		.loc 1 853 8 view .LVU652
 1963 0012 9A42     		cmp	r2, r3
 1964 0014 01D9     		bls	.L93
 854:User/fifo/fifo.c ****     {
 855:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr;
 1965              		.loc 1 855 9 is_stmt 1 view .LVU653
 1966              		.loc 1 855 38 is_stmt 0 view .LVU654
 1967 0016 0368     		ldr	r3, [r0]
 1968              		.loc 1 855 30 view .LVU655
 1969 0018 8361     		str	r3, [r0, #24]
 1970              	.L93:
 856:User/fifo/fifo.c ****     }
 857:User/fifo/fifo.c **** 
 858:User/fifo/fifo.c ****     memcpy(p_fifo->p_write_addr, p_element, p_fifo->unit_size);
 1971              		.loc 1 858 5 is_stmt 1 view .LVU656
 1972 001a 2269     		ldr	r2, [r4, #16]
 1973 001c A069     		ldr	r0, [r4, #24]
 1974              	.LVL159:
 1975              		.loc 1 858 5 is_stmt 0 view .LVU657
 1976 001e FFF7FEFF 		bl	memcpy
 1977              	.LVL160:
 859:User/fifo/fifo.c ****     p_fifo->p_write_addr += p_fifo->unit_size;
 1978              		.loc 1 859 5 is_stmt 1 view .LVU658
 1979              		.loc 1 859 35 is_stmt 0 view .LVU659
 1980 0022 2269     		ldr	r2, [r4, #16]
 1981              		.loc 1 859 26 view .LVU660
 1982 0024 A369     		ldr	r3, [r4, #24]
 1983 0026 1344     		add	r3, r3, r2
 1984 0028 A361     		str	r3, [r4, #24]
 860:User/fifo/fifo.c ****     p_fifo->free_num--;
 1985              		.loc 1 860 5 is_stmt 1 view .LVU661
 1986              		.loc 1 860 11 is_stmt 0 view .LVU662
 1987 002a A368     		ldr	r3, [r4, #8]
 1988              		.loc 1 860 21 view .LVU663
 1989 002c 013B     		subs	r3, r3, #1
 1990 002e A360     		str	r3, [r4, #8]
 861:User/fifo/fifo.c ****     p_fifo->used_num++;
 1991              		.loc 1 861 5 is_stmt 1 view .LVU664
 1992              		.loc 1 861 11 is_stmt 0 view .LVU665
 1993 0030 E368     		ldr	r3, [r4, #12]
 1994              		.loc 1 861 21 view .LVU666
 1995 0032 0133     		adds	r3, r3, #1
 1996 0034 E360     		str	r3, [r4, #12]
 862:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 1997              		.loc 1 862 5 is_stmt 1 view .LVU667
 1998              		.loc 1 862 5 view .LVU668
 1999              	.LBB100:
 2000              	.LBI100:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2001              		.loc 2 129 27 view .LVU669
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 56


 2002              	.LBB101:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2003              		.loc 2 131 3 view .LVU670
 2004              		.syntax unified
 2005              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2006 0036 62B6     		cpsie i
 2007              	@ 0 "" 2
 2008              		.thumb
 2009              		.syntax unified
 2010              	.LBE101:
 2011              	.LBE100:
 2012              		.loc 1 862 5 view .LVU671
 863:User/fifo/fifo.c **** 
 864:User/fifo/fifo.c ****     return (0);
 2013              		.loc 1 864 5 view .LVU672
 2014              		.loc 1 864 12 is_stmt 0 view .LVU673
 2015 0038 0020     		movs	r0, #0
 2016              	.L90:
 865:User/fifo/fifo.c **** }
 2017              		.loc 1 865 1 view .LVU674
 2018 003a 10BD     		pop	{r4, pc}
 2019              	.LVL161:
 2020              	.L99:
 849:User/fifo/fifo.c ****         return (-1);
 2021              		.loc 1 849 9 is_stmt 1 view .LVU675
 849:User/fifo/fifo.c ****         return (-1);
 2022              		.loc 1 849 9 view .LVU676
 2023              	.LBB102:
 2024              	.LBI102:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2025              		.loc 2 129 27 view .LVU677
 2026              	.LBB103:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2027              		.loc 2 131 3 view .LVU678
 2028              		.syntax unified
 2029              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2030 003c 62B6     		cpsie i
 2031              	@ 0 "" 2
 2032              		.thumb
 2033              		.syntax unified
 2034              	.LBE103:
 2035              	.LBE102:
 849:User/fifo/fifo.c ****         return (-1);
 2036              		.loc 1 849 9 view .LVU679
 850:User/fifo/fifo.c ****     }
 2037              		.loc 1 850 9 view .LVU680
 850:User/fifo/fifo.c ****     }
 2038              		.loc 1 850 16 is_stmt 0 view .LVU681
 2039 003e 4FF0FF30 		mov	r0, #-1
 2040              	.LVL162:
 850:User/fifo/fifo.c ****     }
 2041              		.loc 1 850 16 view .LVU682
 2042 0042 FAE7     		b	.L90
 2043              	.LVL163:
 2044              	.L94:
 2045              	.LCFI12:
 2046              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 57


 2047              		.cfi_restore 4
 2048              		.cfi_restore 14
 840:User/fifo/fifo.c ****     }
 2049              		.loc 1 840 16 view .LVU683
 2050 0044 4FF0FF30 		mov	r0, #-1
 2051              	.LVL164:
 2052              		.loc 1 865 1 view .LVU684
 2053 0048 7047     		bx	lr
 2054              		.cfi_endproc
 2055              	.LFE67:
 2057              		.section	.text.fifo_put_noprotect,"ax",%progbits
 2058              		.align	1
 2059              		.global	fifo_put_noprotect
 2060              		.syntax unified
 2061              		.thumb
 2062              		.thumb_func
 2064              	fifo_put_noprotect:
 2065              	.LVL165:
 2066              	.LFB68:
 866:User/fifo/fifo.c **** 
 867:User/fifo/fifo.c **** //******************************************************************************************
 868:User/fifo/fifo.c **** //
 869:User/fifo/fifo.c **** //! \brief  Put an element into FIFO without protect.
 870:User/fifo/fifo.c **** //!
 871:User/fifo/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 872:User/fifo/fifo.c **** //! \param  [in]  pElement is the address of element you want to put
 873:User/fifo/fifo.c **** //!
 874:User/fifo/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 875:User/fifo/fifo.c **** //
 876:User/fifo/fifo.c **** //******************************************************************************************
 877:User/fifo/fifo.c **** int fifo_put_noprotect(fifo_t *p_fifo, void *p_element)
 878:User/fifo/fifo.c **** {
 2067              		.loc 1 878 1 is_stmt 1 view -0
 2068              		.cfi_startproc
 2069              		@ args = 0, pretend = 0, frame = 0
 2070              		@ frame_needed = 0, uses_anonymous_args = 0
 879:User/fifo/fifo.c ****     //! Check input parameters.
 880:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2071              		.loc 1 880 19 view .LVU686
 881:User/fifo/fifo.c ****     ASSERT(p_element);
 2072              		.loc 1 881 22 view .LVU687
 882:User/fifo/fifo.c **** 
 883:User/fifo/fifo.c ****     // Full ?
 884:User/fifo/fifo.c ****     if (0 == p_fifo->free_num)
 2073              		.loc 1 884 5 view .LVU688
 2074              		.loc 1 884 20 is_stmt 0 view .LVU689
 2075 0000 8368     		ldr	r3, [r0, #8]
 2076              		.loc 1 884 8 view .LVU690
 2077 0002 BBB1     		cbz	r3, .L103
 878:User/fifo/fifo.c ****     //! Check input parameters.
 2078              		.loc 1 878 1 view .LVU691
 2079 0004 10B5     		push	{r4, lr}
 2080              	.LCFI13:
 2081              		.cfi_def_cfa_offset 8
 2082              		.cfi_offset 4, -8
 2083              		.cfi_offset 14, -4
 2084 0006 0446     		mov	r4, r0
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 58


 885:User/fifo/fifo.c ****     {
 886:User/fifo/fifo.c ****         //! Error, FIFO is full!
 887:User/fifo/fifo.c ****         return (-1);
 888:User/fifo/fifo.c ****     }
 889:User/fifo/fifo.c **** 
 890:User/fifo/fifo.c ****     if (p_fifo->p_write_addr > p_fifo->p_end_addr)
 2085              		.loc 1 890 5 is_stmt 1 view .LVU692
 2086              		.loc 1 890 15 is_stmt 0 view .LVU693
 2087 0008 8269     		ldr	r2, [r0, #24]
 2088              		.loc 1 890 38 view .LVU694
 2089 000a 4368     		ldr	r3, [r0, #4]
 2090              		.loc 1 890 8 view .LVU695
 2091 000c 9A42     		cmp	r2, r3
 2092 000e 01D9     		bls	.L102
 891:User/fifo/fifo.c ****     {
 892:User/fifo/fifo.c ****         p_fifo->p_write_addr = p_fifo->p_start_addr;
 2093              		.loc 1 892 9 is_stmt 1 view .LVU696
 2094              		.loc 1 892 38 is_stmt 0 view .LVU697
 2095 0010 0368     		ldr	r3, [r0]
 2096              		.loc 1 892 30 view .LVU698
 2097 0012 8361     		str	r3, [r0, #24]
 2098              	.L102:
 893:User/fifo/fifo.c ****     }
 894:User/fifo/fifo.c **** 
 895:User/fifo/fifo.c ****     memcpy(p_fifo->p_write_addr, p_element, p_fifo->unit_size);
 2099              		.loc 1 895 5 is_stmt 1 view .LVU699
 2100 0014 2269     		ldr	r2, [r4, #16]
 2101 0016 A069     		ldr	r0, [r4, #24]
 2102              	.LVL166:
 2103              		.loc 1 895 5 is_stmt 0 view .LVU700
 2104 0018 FFF7FEFF 		bl	memcpy
 2105              	.LVL167:
 896:User/fifo/fifo.c ****     p_fifo->p_write_addr += p_fifo->unit_size;
 2106              		.loc 1 896 5 is_stmt 1 view .LVU701
 2107              		.loc 1 896 35 is_stmt 0 view .LVU702
 2108 001c 2269     		ldr	r2, [r4, #16]
 2109              		.loc 1 896 26 view .LVU703
 2110 001e A369     		ldr	r3, [r4, #24]
 2111 0020 1344     		add	r3, r3, r2
 2112 0022 A361     		str	r3, [r4, #24]
 897:User/fifo/fifo.c ****     p_fifo->free_num--;
 2113              		.loc 1 897 5 is_stmt 1 view .LVU704
 2114              		.loc 1 897 11 is_stmt 0 view .LVU705
 2115 0024 A368     		ldr	r3, [r4, #8]
 2116              		.loc 1 897 21 view .LVU706
 2117 0026 013B     		subs	r3, r3, #1
 2118 0028 A360     		str	r3, [r4, #8]
 898:User/fifo/fifo.c ****     p_fifo->used_num++;
 2119              		.loc 1 898 5 is_stmt 1 view .LVU707
 2120              		.loc 1 898 11 is_stmt 0 view .LVU708
 2121 002a E368     		ldr	r3, [r4, #12]
 2122              		.loc 1 898 21 view .LVU709
 2123 002c 0133     		adds	r3, r3, #1
 2124 002e E360     		str	r3, [r4, #12]
 899:User/fifo/fifo.c **** 
 900:User/fifo/fifo.c ****     return (0);
 2125              		.loc 1 900 5 is_stmt 1 view .LVU710
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 59


 2126              		.loc 1 900 12 is_stmt 0 view .LVU711
 2127 0030 0020     		movs	r0, #0
 901:User/fifo/fifo.c **** }
 2128              		.loc 1 901 1 view .LVU712
 2129 0032 10BD     		pop	{r4, pc}
 2130              	.LVL168:
 2131              	.L103:
 2132              	.LCFI14:
 2133              		.cfi_def_cfa_offset 0
 2134              		.cfi_restore 4
 2135              		.cfi_restore 14
 887:User/fifo/fifo.c ****     }
 2136              		.loc 1 887 16 view .LVU713
 2137 0034 4FF0FF30 		mov	r0, #-1
 2138              	.LVL169:
 2139              		.loc 1 901 1 view .LVU714
 2140 0038 7047     		bx	lr
 2141              		.cfi_endproc
 2142              	.LFE68:
 2144              		.section	.text.fifo_get,"ax",%progbits
 2145              		.align	1
 2146              		.global	fifo_get
 2147              		.syntax unified
 2148              		.thumb
 2149              		.thumb_func
 2151              	fifo_get:
 2152              	.LVL170:
 2153              	.LFB69:
 902:User/fifo/fifo.c **** 
 903:User/fifo/fifo.c **** //******************************************************************************************
 904:User/fifo/fifo.c **** //
 905:User/fifo/fifo.c **** //! \brief  Get an element from FIFO without protect.
 906:User/fifo/fifo.c **** //!
 907:User/fifo/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 908:User/fifo/fifo.c **** //! \param  [out] pElement is the address of element you want to get
 909:User/fifo/fifo.c **** //!
 910:User/fifo/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 911:User/fifo/fifo.c **** //
 912:User/fifo/fifo.c **** //******************************************************************************************
 913:User/fifo/fifo.c **** int fifo_get(fifo_t *p_fifo, void *p_element)
 914:User/fifo/fifo.c **** {
 2154              		.loc 1 914 1 is_stmt 1 view -0
 2155              		.cfi_startproc
 2156              		@ args = 0, pretend = 0, frame = 0
 2157              		@ frame_needed = 0, uses_anonymous_args = 0
 2158              		.loc 1 914 1 is_stmt 0 view .LVU716
 2159 0000 10B5     		push	{r4, lr}
 2160              	.LCFI15:
 2161              		.cfi_def_cfa_offset 8
 2162              		.cfi_offset 4, -8
 2163              		.cfi_offset 14, -4
 2164 0002 0446     		mov	r4, r0
 915:User/fifo/fifo.c ****     //! Check input parameters.
 916:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2165              		.loc 1 916 19 is_stmt 1 view .LVU717
 917:User/fifo/fifo.c ****     ASSERT(p_element);
 2166              		.loc 1 917 22 view .LVU718
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 60


 918:User/fifo/fifo.c **** 
 919:User/fifo/fifo.c ****     // Empty ?
 920:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 2167              		.loc 1 920 5 view .LVU719
 2168              		.loc 1 920 20 is_stmt 0 view .LVU720
 2169 0004 C368     		ldr	r3, [r0, #12]
 2170              		.loc 1 920 8 view .LVU721
 2171 0006 F3B1     		cbz	r3, .L112
 2172 0008 0846     		mov	r0, r1
 2173              	.LVL171:
 921:User/fifo/fifo.c ****     {
 922:User/fifo/fifo.c ****         //! Error, FIFO is Empty!
 923:User/fifo/fifo.c ****         return (-1);
 924:User/fifo/fifo.c ****     }
 925:User/fifo/fifo.c **** 
 926:User/fifo/fifo.c ****     //! Copy Data
 927:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 2174              		.loc 1 927 5 is_stmt 1 view .LVU722
 2175              		.loc 1 927 5 view .LVU723
 2176              	.LBB104:
 2177              	.LBI104:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2178              		.loc 2 140 27 view .LVU724
 2179              	.LBB105:
 2180              		.loc 2 142 3 view .LVU725
 2181              		.syntax unified
 2182              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2183 000a 72B6     		cpsid i
 2184              	@ 0 "" 2
 2185              		.thumb
 2186              		.syntax unified
 2187              	.LBE105:
 2188              	.LBE104:
 2189              		.loc 1 927 5 view .LVU726
 928:User/fifo/fifo.c **** 
 929:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 2190              		.loc 1 929 5 view .LVU727
 2191              		.loc 1 929 20 is_stmt 0 view .LVU728
 2192 000c E368     		ldr	r3, [r4, #12]
 2193              		.loc 1 929 8 view .LVU729
 2194 000e B3B1     		cbz	r3, .L114
 930:User/fifo/fifo.c ****     {
 931:User/fifo/fifo.c ****         //! Error, FIFO is Empty!
 932:User/fifo/fifo.c ****         MUTEX_UNLOCK(p_fifo->mutex);
 933:User/fifo/fifo.c ****         return (-1);
 934:User/fifo/fifo.c ****     }
 935:User/fifo/fifo.c **** 
 936:User/fifo/fifo.c ****     if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 2195              		.loc 1 936 5 is_stmt 1 view .LVU730
 2196              		.loc 1 936 15 is_stmt 0 view .LVU731
 2197 0010 6269     		ldr	r2, [r4, #20]
 2198              		.loc 1 936 37 view .LVU732
 2199 0012 6368     		ldr	r3, [r4, #4]
 2200              		.loc 1 936 8 view .LVU733
 2201 0014 9A42     		cmp	r2, r3
 2202 0016 01D9     		bls	.L111
 937:User/fifo/fifo.c ****     {
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 61


 938:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr;
 2203              		.loc 1 938 9 is_stmt 1 view .LVU734
 2204              		.loc 1 938 37 is_stmt 0 view .LVU735
 2205 0018 2368     		ldr	r3, [r4]
 2206              		.loc 1 938 29 view .LVU736
 2207 001a 6361     		str	r3, [r4, #20]
 2208              	.L111:
 939:User/fifo/fifo.c ****     }
 940:User/fifo/fifo.c ****     memcpy(p_element, p_fifo->p_read_addr, p_fifo->unit_size);
 2209              		.loc 1 940 5 is_stmt 1 view .LVU737
 2210 001c 2269     		ldr	r2, [r4, #16]
 2211 001e 6169     		ldr	r1, [r4, #20]
 2212              	.LVL172:
 2213              		.loc 1 940 5 is_stmt 0 view .LVU738
 2214 0020 FFF7FEFF 		bl	memcpy
 2215              	.LVL173:
 941:User/fifo/fifo.c ****     p_fifo->p_read_addr += p_fifo->unit_size;
 2216              		.loc 1 941 5 is_stmt 1 view .LVU739
 2217              		.loc 1 941 34 is_stmt 0 view .LVU740
 2218 0024 2269     		ldr	r2, [r4, #16]
 2219              		.loc 1 941 25 view .LVU741
 2220 0026 6369     		ldr	r3, [r4, #20]
 2221 0028 1344     		add	r3, r3, r2
 2222 002a 6361     		str	r3, [r4, #20]
 942:User/fifo/fifo.c ****     p_fifo->free_num++;
 2223              		.loc 1 942 5 is_stmt 1 view .LVU742
 2224              		.loc 1 942 11 is_stmt 0 view .LVU743
 2225 002c A368     		ldr	r3, [r4, #8]
 2226              		.loc 1 942 21 view .LVU744
 2227 002e 0133     		adds	r3, r3, #1
 2228 0030 A360     		str	r3, [r4, #8]
 943:User/fifo/fifo.c ****     p_fifo->used_num--;
 2229              		.loc 1 943 5 is_stmt 1 view .LVU745
 2230              		.loc 1 943 11 is_stmt 0 view .LVU746
 2231 0032 E368     		ldr	r3, [r4, #12]
 2232              		.loc 1 943 21 view .LVU747
 2233 0034 013B     		subs	r3, r3, #1
 2234 0036 E360     		str	r3, [r4, #12]
 944:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 2235              		.loc 1 944 5 is_stmt 1 view .LVU748
 2236              		.loc 1 944 5 view .LVU749
 2237              	.LBB106:
 2238              	.LBI106:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2239              		.loc 2 129 27 view .LVU750
 2240              	.LBB107:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2241              		.loc 2 131 3 view .LVU751
 2242              		.syntax unified
 2243              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2244 0038 62B6     		cpsie i
 2245              	@ 0 "" 2
 2246              		.thumb
 2247              		.syntax unified
 2248              	.LBE107:
 2249              	.LBE106:
 2250              		.loc 1 944 5 view .LVU752
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 62


 945:User/fifo/fifo.c **** 
 946:User/fifo/fifo.c ****     return (0);
 2251              		.loc 1 946 5 view .LVU753
 2252              		.loc 1 946 12 is_stmt 0 view .LVU754
 2253 003a 0020     		movs	r0, #0
 2254              	.L108:
 947:User/fifo/fifo.c **** }
 2255              		.loc 1 947 1 view .LVU755
 2256 003c 10BD     		pop	{r4, pc}
 2257              	.LVL174:
 2258              	.L114:
 932:User/fifo/fifo.c ****         return (-1);
 2259              		.loc 1 932 9 is_stmt 1 view .LVU756
 932:User/fifo/fifo.c ****         return (-1);
 2260              		.loc 1 932 9 view .LVU757
 2261              	.LBB108:
 2262              	.LBI108:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2263              		.loc 2 129 27 view .LVU758
 2264              	.LBB109:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2265              		.loc 2 131 3 view .LVU759
 2266              		.syntax unified
 2267              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2268 003e 62B6     		cpsie i
 2269              	@ 0 "" 2
 2270              		.thumb
 2271              		.syntax unified
 2272              	.LBE109:
 2273              	.LBE108:
 932:User/fifo/fifo.c ****         return (-1);
 2274              		.loc 1 932 9 view .LVU760
 933:User/fifo/fifo.c ****     }
 2275              		.loc 1 933 9 view .LVU761
 933:User/fifo/fifo.c ****     }
 2276              		.loc 1 933 16 is_stmt 0 view .LVU762
 2277 0040 4FF0FF30 		mov	r0, #-1
 2278              	.LVL175:
 933:User/fifo/fifo.c ****     }
 2279              		.loc 1 933 16 view .LVU763
 2280 0044 FAE7     		b	.L108
 2281              	.LVL176:
 2282              	.L112:
 923:User/fifo/fifo.c ****     }
 2283              		.loc 1 923 16 view .LVU764
 2284 0046 4FF0FF30 		mov	r0, #-1
 2285              	.LVL177:
 923:User/fifo/fifo.c ****     }
 2286              		.loc 1 923 16 view .LVU765
 2287 004a F7E7     		b	.L108
 2288              		.cfi_endproc
 2289              	.LFE69:
 2291              		.section	.text.fifo_get_noprotect,"ax",%progbits
 2292              		.align	1
 2293              		.global	fifo_get_noprotect
 2294              		.syntax unified
 2295              		.thumb
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 63


 2296              		.thumb_func
 2298              	fifo_get_noprotect:
 2299              	.LVL178:
 2300              	.LFB70:
 948:User/fifo/fifo.c **** 
 949:User/fifo/fifo.c **** //******************************************************************************************
 950:User/fifo/fifo.c **** //
 951:User/fifo/fifo.c **** //! \brief  Get an element from FIFO.
 952:User/fifo/fifo.c **** //!
 953:User/fifo/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 954:User/fifo/fifo.c **** //! \param  [out] pElement is the address of element you want to get
 955:User/fifo/fifo.c **** //!
 956:User/fifo/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 957:User/fifo/fifo.c **** //
 958:User/fifo/fifo.c **** //******************************************************************************************
 959:User/fifo/fifo.c **** int fifo_get_noprotect(fifo_t *p_fifo, void *p_element)
 960:User/fifo/fifo.c **** {
 2301              		.loc 1 960 1 is_stmt 1 view -0
 2302              		.cfi_startproc
 2303              		@ args = 0, pretend = 0, frame = 0
 2304              		@ frame_needed = 0, uses_anonymous_args = 0
 2305              		.loc 1 960 1 is_stmt 0 view .LVU767
 2306 0000 10B5     		push	{r4, lr}
 2307              	.LCFI16:
 2308              		.cfi_def_cfa_offset 8
 2309              		.cfi_offset 4, -8
 2310              		.cfi_offset 14, -4
 2311 0002 0446     		mov	r4, r0
 961:User/fifo/fifo.c ****     //! Check input parameters.
 962:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2312              		.loc 1 962 19 is_stmt 1 view .LVU768
 963:User/fifo/fifo.c ****     ASSERT(p_element);
 2313              		.loc 1 963 22 view .LVU769
 964:User/fifo/fifo.c **** 
 965:User/fifo/fifo.c ****     // Empty ?
 966:User/fifo/fifo.c ****     if (0 == p_fifo->used_num)
 2314              		.loc 1 966 5 view .LVU770
 2315              		.loc 1 966 20 is_stmt 0 view .LVU771
 2316 0004 C368     		ldr	r3, [r0, #12]
 2317              		.loc 1 966 8 view .LVU772
 2318 0006 B3B1     		cbz	r3, .L118
 2319 0008 0846     		mov	r0, r1
 2320              	.LVL179:
 967:User/fifo/fifo.c ****     {
 968:User/fifo/fifo.c ****         //! Error, FIFO is Empty!
 969:User/fifo/fifo.c ****         return (-1);
 970:User/fifo/fifo.c ****     }
 971:User/fifo/fifo.c **** 
 972:User/fifo/fifo.c ****     if (p_fifo->p_read_addr > p_fifo->p_end_addr)
 2321              		.loc 1 972 5 is_stmt 1 view .LVU773
 2322              		.loc 1 972 15 is_stmt 0 view .LVU774
 2323 000a 6269     		ldr	r2, [r4, #20]
 2324              		.loc 1 972 37 view .LVU775
 2325 000c 6368     		ldr	r3, [r4, #4]
 2326              		.loc 1 972 8 view .LVU776
 2327 000e 9A42     		cmp	r2, r3
 2328 0010 01D9     		bls	.L117
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 64


 973:User/fifo/fifo.c ****     {
 974:User/fifo/fifo.c ****         p_fifo->p_read_addr = p_fifo->p_start_addr;
 2329              		.loc 1 974 9 is_stmt 1 view .LVU777
 2330              		.loc 1 974 37 is_stmt 0 view .LVU778
 2331 0012 2368     		ldr	r3, [r4]
 2332              		.loc 1 974 29 view .LVU779
 2333 0014 6361     		str	r3, [r4, #20]
 2334              	.L117:
 975:User/fifo/fifo.c ****     }
 976:User/fifo/fifo.c ****     memcpy(p_element, p_fifo->p_read_addr, p_fifo->unit_size);
 2335              		.loc 1 976 5 is_stmt 1 view .LVU780
 2336 0016 2269     		ldr	r2, [r4, #16]
 2337 0018 6169     		ldr	r1, [r4, #20]
 2338              	.LVL180:
 2339              		.loc 1 976 5 is_stmt 0 view .LVU781
 2340 001a FFF7FEFF 		bl	memcpy
 2341              	.LVL181:
 977:User/fifo/fifo.c ****     p_fifo->p_read_addr += p_fifo->unit_size;
 2342              		.loc 1 977 5 is_stmt 1 view .LVU782
 2343              		.loc 1 977 34 is_stmt 0 view .LVU783
 2344 001e 2269     		ldr	r2, [r4, #16]
 2345              		.loc 1 977 25 view .LVU784
 2346 0020 6369     		ldr	r3, [r4, #20]
 2347 0022 1344     		add	r3, r3, r2
 2348 0024 6361     		str	r3, [r4, #20]
 978:User/fifo/fifo.c ****     p_fifo->free_num++;
 2349              		.loc 1 978 5 is_stmt 1 view .LVU785
 2350              		.loc 1 978 11 is_stmt 0 view .LVU786
 2351 0026 A368     		ldr	r3, [r4, #8]
 2352              		.loc 1 978 21 view .LVU787
 2353 0028 0133     		adds	r3, r3, #1
 2354 002a A360     		str	r3, [r4, #8]
 979:User/fifo/fifo.c ****     p_fifo->used_num--;
 2355              		.loc 1 979 5 is_stmt 1 view .LVU788
 2356              		.loc 1 979 11 is_stmt 0 view .LVU789
 2357 002c E368     		ldr	r3, [r4, #12]
 2358              		.loc 1 979 21 view .LVU790
 2359 002e 013B     		subs	r3, r3, #1
 2360 0030 E360     		str	r3, [r4, #12]
 980:User/fifo/fifo.c **** 
 981:User/fifo/fifo.c ****     return (0);
 2361              		.loc 1 981 5 is_stmt 1 view .LVU791
 2362              		.loc 1 981 12 is_stmt 0 view .LVU792
 2363 0032 0020     		movs	r0, #0
 2364              	.L115:
 982:User/fifo/fifo.c **** }
 2365              		.loc 1 982 1 view .LVU793
 2366 0034 10BD     		pop	{r4, pc}
 2367              	.LVL182:
 2368              	.L118:
 969:User/fifo/fifo.c ****     }
 2369              		.loc 1 969 16 view .LVU794
 2370 0036 4FF0FF30 		mov	r0, #-1
 2371              	.LVL183:
 969:User/fifo/fifo.c ****     }
 2372              		.loc 1 969 16 view .LVU795
 2373 003a FBE7     		b	.L115
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 65


 2374              		.cfi_endproc
 2375              	.LFE70:
 2377              		.section	.text.fifo_pre_read,"ax",%progbits
 2378              		.align	1
 2379              		.global	fifo_pre_read
 2380              		.syntax unified
 2381              		.thumb
 2382              		.thumb_func
 2384              	fifo_pre_read:
 2385              	.LVL184:
 2386              	.LFB71:
 983:User/fifo/fifo.c **** 
 984:User/fifo/fifo.c **** //******************************************************************************************
 985:User/fifo/fifo.c **** //
 986:User/fifo/fifo.c **** //! \brief  Pre-Read an element from FIFO.
 987:User/fifo/fifo.c **** //!
 988:User/fifo/fifo.c **** //! \param  [in]  pFIFO is the pointer of valid FIFO.
 989:User/fifo/fifo.c **** //! \param  [in]  Offset is the offset from current pointer.
 990:User/fifo/fifo.c **** //! \param  [out] pElement is the address of element you want to get
 991:User/fifo/fifo.c **** //!
 992:User/fifo/fifo.c **** //! \retval 0 if operate successfully, otherwise return -1.
 993:User/fifo/fifo.c **** //
 994:User/fifo/fifo.c **** //******************************************************************************************
 995:User/fifo/fifo.c **** int fifo_pre_read(fifo_t *p_fifo, char offset, void *p_element)
 996:User/fifo/fifo.c **** {
 2387              		.loc 1 996 1 is_stmt 1 view -0
 2388              		.cfi_startproc
 2389              		@ args = 0, pretend = 0, frame = 0
 2390              		@ frame_needed = 0, uses_anonymous_args = 0
 2391              		.loc 1 996 1 is_stmt 0 view .LVU797
 2392 0000 08B5     		push	{r3, lr}
 2393              	.LCFI17:
 2394              		.cfi_def_cfa_offset 8
 2395              		.cfi_offset 3, -8
 2396              		.cfi_offset 14, -4
 2397 0002 8446     		mov	ip, r0
 997:User/fifo/fifo.c ****     char *_pre_red_index = (void *)0;
 2398              		.loc 1 997 5 is_stmt 1 view .LVU798
 2399              	.LVL185:
 998:User/fifo/fifo.c **** 
 999:User/fifo/fifo.c ****     //! Check input parameters.
1000:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2400              		.loc 1 1000 19 view .LVU799
1001:User/fifo/fifo.c ****     ASSERT(p_element);
 2401              		.loc 1 1001 22 view .LVU800
1002:User/fifo/fifo.c **** 
1003:User/fifo/fifo.c ****     // OverFlow ?
1004:User/fifo/fifo.c ****     if (offset >= p_fifo->used_num)
 2402              		.loc 1 1004 5 view .LVU801
 2403              		.loc 1 1004 25 is_stmt 0 view .LVU802
 2404 0004 C368     		ldr	r3, [r0, #12]
 2405              		.loc 1 1004 8 view .LVU803
 2406 0006 9942     		cmp	r1, r3
 2407 0008 14DA     		bge	.L124
 2408 000a 1046     		mov	r0, r2
 2409              	.LVL186:
1005:User/fifo/fifo.c ****     {
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 66


1006:User/fifo/fifo.c ****         return (-1);
1007:User/fifo/fifo.c ****     }
1008:User/fifo/fifo.c **** 
1009:User/fifo/fifo.c ****     // Move Read Pointer to right position
1010:User/fifo/fifo.c ****     _pre_red_index = p_fifo->p_read_addr + p_fifo->unit_size * offset;
 2410              		.loc 1 1010 5 is_stmt 1 view .LVU804
 2411              		.loc 1 1010 28 is_stmt 0 view .LVU805
 2412 000c DCF81430 		ldr	r3, [ip, #20]
 2413              		.loc 1 1010 50 view .LVU806
 2414 0010 DCF81020 		ldr	r2, [ip, #16]
 2415              	.LVL187:
 2416              		.loc 1 1010 20 view .LVU807
 2417 0014 02FB0131 		mla	r1, r2, r1, r3
 2418              	.LVL188:
1011:User/fifo/fifo.c ****     while (_pre_red_index > p_fifo->p_end_addr)
 2419              		.loc 1 1011 5 is_stmt 1 view .LVU808
 2420              		.loc 1 1011 11 is_stmt 0 view .LVU809
 2421 0018 04E0     		b	.L122
 2422              	.L123:
1012:User/fifo/fifo.c ****     {
1013:User/fifo/fifo.c ****         _pre_red_index = _pre_red_index - p_fifo->p_end_addr + p_fifo->p_start_addr - 1;
 2423              		.loc 1 1013 9 is_stmt 1 view .LVU810
 2424              		.loc 1 1013 41 is_stmt 0 view .LVU811
 2425 001a C91A     		subs	r1, r1, r3
 2426              	.LVL189:
 2427              		.loc 1 1013 85 view .LVU812
 2428 001c 0139     		subs	r1, r1, #1
 2429              		.loc 1 1013 24 view .LVU813
 2430 001e DCF80030 		ldr	r3, [ip]
 2431 0022 1944     		add	r1, r1, r3
 2432              	.LVL190:
 2433              	.L122:
1011:User/fifo/fifo.c ****     while (_pre_red_index > p_fifo->p_end_addr)
 2434              		.loc 1 1011 11 is_stmt 1 view .LVU814
1011:User/fifo/fifo.c ****     while (_pre_red_index > p_fifo->p_end_addr)
 2435              		.loc 1 1011 35 is_stmt 0 view .LVU815
 2436 0024 DCF80430 		ldr	r3, [ip, #4]
1011:User/fifo/fifo.c ****     while (_pre_red_index > p_fifo->p_end_addr)
 2437              		.loc 1 1011 11 view .LVU816
 2438 0028 8B42     		cmp	r3, r1
 2439 002a F6D3     		bcc	.L123
1014:User/fifo/fifo.c ****     }
1015:User/fifo/fifo.c ****     //! Copy Data
1016:User/fifo/fifo.c ****     memcpy(p_element, _pre_red_index, p_fifo->unit_size);
 2440              		.loc 1 1016 5 is_stmt 1 view .LVU817
 2441 002c FFF7FEFF 		bl	memcpy
 2442              	.LVL191:
1017:User/fifo/fifo.c **** 
1018:User/fifo/fifo.c ****     return (0);
 2443              		.loc 1 1018 5 view .LVU818
 2444              		.loc 1 1018 12 is_stmt 0 view .LVU819
 2445 0030 0020     		movs	r0, #0
 2446              	.L120:
1019:User/fifo/fifo.c **** }
 2447              		.loc 1 1019 1 view .LVU820
 2448 0032 08BD     		pop	{r3, pc}
 2449              	.LVL192:
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 67


 2450              	.L124:
1006:User/fifo/fifo.c ****     }
 2451              		.loc 1 1006 16 view .LVU821
 2452 0034 4FF0FF30 		mov	r0, #-1
 2453              	.LVL193:
1006:User/fifo/fifo.c ****     }
 2454              		.loc 1 1006 16 view .LVU822
 2455 0038 FBE7     		b	.L120
 2456              		.cfi_endproc
 2457              	.LFE71:
 2459              		.section	.text.fifo_is_empty,"ax",%progbits
 2460              		.align	1
 2461              		.global	fifo_is_empty
 2462              		.syntax unified
 2463              		.thumb
 2464              		.thumb_func
 2466              	fifo_is_empty:
 2467              	.LVL194:
 2468              	.LFB72:
1020:User/fifo/fifo.c **** 
1021:User/fifo/fifo.c **** //******************************************************************************************
1022:User/fifo/fifo.c **** //
1023:User/fifo/fifo.c **** //! \brief  FIFO is empty ?
1024:User/fifo/fifo.c **** //!
1025:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1026:User/fifo/fifo.c **** //!
1027:User/fifo/fifo.c **** //! \retval - None-zero(true) if empty.
1028:User/fifo/fifo.c **** //!         - Zero(false) if not empty.
1029:User/fifo/fifo.c **** //
1030:User/fifo/fifo.c **** //******************************************************************************************
1031:User/fifo/fifo.c **** int fifo_is_empty(fifo_t *p_fifo)
1032:User/fifo/fifo.c **** {
 2469              		.loc 1 1032 1 is_stmt 1 view -0
 2470              		.cfi_startproc
 2471              		@ args = 0, pretend = 0, frame = 0
 2472              		@ frame_needed = 0, uses_anonymous_args = 0
 2473              		@ link register save eliminated.
1033:User/fifo/fifo.c ****     //! Check input parameter.
1034:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2474              		.loc 1 1034 19 view .LVU824
1035:User/fifo/fifo.c **** 
1036:User/fifo/fifo.c ****     return (0 == p_fifo->used_num);
 2475              		.loc 1 1036 5 view .LVU825
 2476              		.loc 1 1036 24 is_stmt 0 view .LVU826
 2477 0000 C068     		ldr	r0, [r0, #12]
 2478              	.LVL195:
1037:User/fifo/fifo.c **** }
 2479              		.loc 1 1037 1 view .LVU827
 2480 0002 B0FA80F0 		clz	r0, r0
 2481 0006 4009     		lsrs	r0, r0, #5
 2482 0008 7047     		bx	lr
 2483              		.cfi_endproc
 2484              	.LFE72:
 2486              		.section	.text.fifo_is_full,"ax",%progbits
 2487              		.align	1
 2488              		.global	fifo_is_full
 2489              		.syntax unified
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 68


 2490              		.thumb
 2491              		.thumb_func
 2493              	fifo_is_full:
 2494              	.LVL196:
 2495              	.LFB73:
1038:User/fifo/fifo.c **** 
1039:User/fifo/fifo.c **** //******************************************************************************************
1040:User/fifo/fifo.c **** //
1041:User/fifo/fifo.c **** //! \brief  FIFO is full ?
1042:User/fifo/fifo.c **** //!
1043:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1044:User/fifo/fifo.c **** //!
1045:User/fifo/fifo.c **** //! \retval - None-zero(true) if full.
1046:User/fifo/fifo.c **** //!         - Zero(false) if not full.
1047:User/fifo/fifo.c **** //
1048:User/fifo/fifo.c **** //******************************************************************************************
1049:User/fifo/fifo.c **** int fifo_is_full(fifo_t *p_fifo)
1050:User/fifo/fifo.c **** {
 2496              		.loc 1 1050 1 is_stmt 1 view -0
 2497              		.cfi_startproc
 2498              		@ args = 0, pretend = 0, frame = 0
 2499              		@ frame_needed = 0, uses_anonymous_args = 0
 2500              		@ link register save eliminated.
1051:User/fifo/fifo.c ****     //! Check input parameter.
1052:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2501              		.loc 1 1052 19 view .LVU829
1053:User/fifo/fifo.c **** 
1054:User/fifo/fifo.c ****     return (0 == p_fifo->free_num);
 2502              		.loc 1 1054 5 view .LVU830
 2503              		.loc 1 1054 24 is_stmt 0 view .LVU831
 2504 0000 8068     		ldr	r0, [r0, #8]
 2505              	.LVL197:
1055:User/fifo/fifo.c **** }
 2506              		.loc 1 1055 1 view .LVU832
 2507 0002 B0FA80F0 		clz	r0, r0
 2508 0006 4009     		lsrs	r0, r0, #5
 2509 0008 7047     		bx	lr
 2510              		.cfi_endproc
 2511              	.LFE73:
 2513              		.section	.text.fifo_used,"ax",%progbits
 2514              		.align	1
 2515              		.global	fifo_used
 2516              		.syntax unified
 2517              		.thumb
 2518              		.thumb_func
 2520              	fifo_used:
 2521              	.LVL198:
 2522              	.LFB74:
1056:User/fifo/fifo.c **** 
1057:User/fifo/fifo.c **** //******************************************************************************************
1058:User/fifo/fifo.c **** //
1059:User/fifo/fifo.c **** //! \brief  Get FIFO the number of elements?
1060:User/fifo/fifo.c **** //!
1061:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1062:User/fifo/fifo.c **** //!
1063:User/fifo/fifo.c **** //! \retval The number of elements in FIFO.
1064:User/fifo/fifo.c **** //
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 69


1065:User/fifo/fifo.c **** //******************************************************************************************
1066:User/fifo/fifo.c **** int fifo_used(fifo_t *p_fifo)
1067:User/fifo/fifo.c **** {
 2523              		.loc 1 1067 1 is_stmt 1 view -0
 2524              		.cfi_startproc
 2525              		@ args = 0, pretend = 0, frame = 0
 2526              		@ frame_needed = 0, uses_anonymous_args = 0
 2527              		@ link register save eliminated.
1068:User/fifo/fifo.c ****     //! Check input parameter.
1069:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2528              		.loc 1 1069 19 view .LVU834
1070:User/fifo/fifo.c **** 
1071:User/fifo/fifo.c ****     return (p_fifo->used_num);
 2529              		.loc 1 1071 5 view .LVU835
1072:User/fifo/fifo.c **** }
 2530              		.loc 1 1072 1 is_stmt 0 view .LVU836
 2531 0000 C068     		ldr	r0, [r0, #12]
 2532              	.LVL199:
 2533              		.loc 1 1072 1 view .LVU837
 2534 0002 7047     		bx	lr
 2535              		.cfi_endproc
 2536              	.LFE74:
 2538              		.section	.text.fifo_free,"ax",%progbits
 2539              		.align	1
 2540              		.global	fifo_free
 2541              		.syntax unified
 2542              		.thumb
 2543              		.thumb_func
 2545              	fifo_free:
 2546              	.LVL200:
 2547              	.LFB75:
1073:User/fifo/fifo.c **** 
1074:User/fifo/fifo.c **** //******************************************************************************************
1075:User/fifo/fifo.c **** //
1076:User/fifo/fifo.c **** //! \brief  Get FIFO the number of elements?
1077:User/fifo/fifo.c **** //!
1078:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1079:User/fifo/fifo.c **** //!
1080:User/fifo/fifo.c **** //! \retval The number of elements in FIFO.
1081:User/fifo/fifo.c **** //
1082:User/fifo/fifo.c **** //******************************************************************************************
1083:User/fifo/fifo.c **** int fifo_free(fifo_t *p_fifo)
1084:User/fifo/fifo.c **** {
 2548              		.loc 1 1084 1 is_stmt 1 view -0
 2549              		.cfi_startproc
 2550              		@ args = 0, pretend = 0, frame = 0
 2551              		@ frame_needed = 0, uses_anonymous_args = 0
 2552              		@ link register save eliminated.
1085:User/fifo/fifo.c ****     //! Check input parameter.
1086:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2553              		.loc 1 1086 19 view .LVU839
1087:User/fifo/fifo.c **** 
1088:User/fifo/fifo.c ****     return (p_fifo->free_num);
 2554              		.loc 1 1088 5 view .LVU840
1089:User/fifo/fifo.c **** }
 2555              		.loc 1 1089 1 is_stmt 0 view .LVU841
 2556 0000 8068     		ldr	r0, [r0, #8]
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 70


 2557              	.LVL201:
 2558              		.loc 1 1089 1 view .LVU842
 2559 0002 7047     		bx	lr
 2560              		.cfi_endproc
 2561              	.LFE75:
 2563              		.section	.text.fifo_flush,"ax",%progbits
 2564              		.align	1
 2565              		.global	fifo_flush
 2566              		.syntax unified
 2567              		.thumb
 2568              		.thumb_func
 2570              	fifo_flush:
 2571              	.LVL202:
 2572              	.LFB76:
1090:User/fifo/fifo.c **** 
1091:User/fifo/fifo.c **** //******************************************************************************************
1092:User/fifo/fifo.c **** //
1093:User/fifo/fifo.c **** //! \brief  Flush the content of FIFO.
1094:User/fifo/fifo.c **** //!
1095:User/fifo/fifo.c **** //! \param  [in] pFIFO is the pointer of valid FIFO.
1096:User/fifo/fifo.c **** //!
1097:User/fifo/fifo.c **** //! \retval 0 if success, -1 if failure.
1098:User/fifo/fifo.c **** //
1099:User/fifo/fifo.c **** //******************************************************************************************
1100:User/fifo/fifo.c **** int fifo_flush(fifo_t *p_fifo)
1101:User/fifo/fifo.c **** {
 2573              		.loc 1 1101 1 is_stmt 1 view -0
 2574              		.cfi_startproc
 2575              		@ args = 0, pretend = 0, frame = 0
 2576              		@ frame_needed = 0, uses_anonymous_args = 0
 2577              		@ link register save eliminated.
 2578              		.loc 1 1101 1 is_stmt 0 view .LVU844
 2579 0000 0346     		mov	r3, r0
1102:User/fifo/fifo.c ****     //! Check input parameters.
1103:User/fifo/fifo.c ****     ASSERT(p_fifo);
 2580              		.loc 1 1103 19 is_stmt 1 view .LVU845
1104:User/fifo/fifo.c **** 
1105:User/fifo/fifo.c ****     //! Initialize FIFO Control Block.
1106:User/fifo/fifo.c ****     MUTEX_LOCK(p_fifo->mutex);
 2581              		.loc 1 1106 5 view .LVU846
 2582              		.loc 1 1106 5 view .LVU847
 2583              	.LBB110:
 2584              	.LBI110:
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2585              		.loc 2 140 27 view .LVU848
 2586              	.LBB111:
 2587              		.loc 2 142 3 view .LVU849
 2588              		.syntax unified
 2589              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2590 0002 72B6     		cpsid i
 2591              	@ 0 "" 2
 2592              		.thumb
 2593              		.syntax unified
 2594              	.LBE111:
 2595              	.LBE110:
 2596              		.loc 1 1106 5 view .LVU850
1107:User/fifo/fifo.c ****     p_fifo->free_num = (p_fifo->p_end_addr - p_fifo->p_start_addr) / (p_fifo->unit_size);
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 71


 2597              		.loc 1 1107 5 view .LVU851
 2598              		.loc 1 1107 31 is_stmt 0 view .LVU852
 2599 0004 4268     		ldr	r2, [r0, #4]
 2600              		.loc 1 1107 52 view .LVU853
 2601 0006 0168     		ldr	r1, [r0]
 2602              		.loc 1 1107 44 view .LVU854
 2603 0008 521A     		subs	r2, r2, r1
 2604              		.loc 1 1107 77 view .LVU855
 2605 000a 0069     		ldr	r0, [r0, #16]
 2606              	.LVL203:
 2607              		.loc 1 1107 68 view .LVU856
 2608 000c 92FBF0F2 		sdiv	r2, r2, r0
 2609              		.loc 1 1107 22 view .LVU857
 2610 0010 9A60     		str	r2, [r3, #8]
1108:User/fifo/fifo.c ****     p_fifo->used_num = 0;
 2611              		.loc 1 1108 5 is_stmt 1 view .LVU858
 2612              		.loc 1 1108 22 is_stmt 0 view .LVU859
 2613 0012 0020     		movs	r0, #0
 2614 0014 D860     		str	r0, [r3, #12]
1109:User/fifo/fifo.c ****     p_fifo->p_read_addr = p_fifo->p_start_addr;
 2615              		.loc 1 1109 5 is_stmt 1 view .LVU860
 2616              		.loc 1 1109 25 is_stmt 0 view .LVU861
 2617 0016 5961     		str	r1, [r3, #20]
1110:User/fifo/fifo.c ****     p_fifo->p_write_addr = p_fifo->p_start_addr;
 2618              		.loc 1 1110 5 is_stmt 1 view .LVU862
 2619              		.loc 1 1110 26 is_stmt 0 view .LVU863
 2620 0018 9961     		str	r1, [r3, #24]
1111:User/fifo/fifo.c ****     MUTEX_UNLOCK(p_fifo->mutex);
 2621              		.loc 1 1111 5 is_stmt 1 view .LVU864
 2622              		.loc 1 1111 5 view .LVU865
 2623              	.LBB112:
 2624              	.LBI112:
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2625              		.loc 2 129 27 view .LVU866
 2626              	.LBB113:
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2627              		.loc 2 131 3 view .LVU867
 2628              		.syntax unified
 2629              	@ 131 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2630 001a 62B6     		cpsie i
 2631              	@ 0 "" 2
 2632              		.thumb
 2633              		.syntax unified
 2634              	.LBE113:
 2635              	.LBE112:
 2636              		.loc 1 1111 5 view .LVU868
1112:User/fifo/fifo.c **** 
1113:User/fifo/fifo.c ****     return (0);
 2637              		.loc 1 1113 5 view .LVU869
1114:User/fifo/fifo.c **** }
 2638              		.loc 1 1114 1 is_stmt 0 view .LVU870
 2639 001c 7047     		bx	lr
 2640              		.cfi_endproc
 2641              	.LFE76:
 2643              		.text
 2644              	.Letext0:
 2645              		.file 3 "User/fifo/fifo.h"
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 72


 2646              		.file 4 "c:\\tool\\gcc-arm\\arm-none-eabi\\include\\stdlib.h"
 2647              		.file 5 "<built-in>"
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 73


DEFINED SYMBOLS
                            *ABS*:00000000 fifo.c
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:18     .text.fifo_s_destroy:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:24     .text.fifo_s_destroy:00000000 fifo_s_destroy
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:59     .text.fifo_s_init:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:65     .text.fifo_s_init:00000000 fifo_s_init
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:113    .text.fifo_s_create:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:119    .text.fifo_s_create:00000000 fifo_s_create
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:192    .text.fifo_s_put:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:198    .text.fifo_s_put:00000000 fifo_s_put
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:328    .text.fifo_s_puts:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:334    .text.fifo_s_puts:00000000 fifo_s_puts
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:527    .text.fifo_s_puts_noprotect:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:533    .text.fifo_s_puts_noprotect:00000000 fifo_s_puts_noprotect
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:666    .text.fifo_s_get:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:672    .text.fifo_s_get:00000000 fifo_s_get
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:798    .text.fifo_s_gets:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:804    .text.fifo_s_gets:00000000 fifo_s_gets
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1005   .text.fifo_s_gets_noprotect:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1011   .text.fifo_s_gets_noprotect:00000000 fifo_s_gets_noprotect
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1144   .text.fifo_s_preread:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1150   .text.fifo_s_preread:00000000 fifo_s_preread
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1207   .text.fifo_s_prereads:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1213   .text.fifo_s_prereads:00000000 fifo_s_prereads
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1433   .text.fifo_s_isempty:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1439   .text.fifo_s_isempty:00000000 fifo_s_isempty
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1460   .text.fifo_s_isfull:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1466   .text.fifo_s_isfull:00000000 fifo_s_isfull
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1487   .text.fifo_s_used:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1493   .text.fifo_s_used:00000000 fifo_s_used
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1512   .text.fifo_s_free:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1518   .text.fifo_s_free:00000000 fifo_s_free
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1537   .text.fifo_s_flush:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1543   .text.fifo_s_flush:00000000 fifo_s_flush
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1611   .text.fifo_s_discard:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1617   .text.fifo_s_discard:00000000 fifo_s_discard
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1726   .text.fifo_destory:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1732   .text.fifo_destory:00000000 fifo_destory
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1766   .text.fifo_init:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1772   .text.fifo_init:00000000 fifo_init
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1825   .text.fifo_create:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1831   .text.fifo_create:00000000 fifo_create
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1909   .text.fifo_put:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:1915   .text.fifo_put:00000000 fifo_put
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2058   .text.fifo_put_noprotect:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2064   .text.fifo_put_noprotect:00000000 fifo_put_noprotect
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2145   .text.fifo_get:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2151   .text.fifo_get:00000000 fifo_get
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2292   .text.fifo_get_noprotect:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2298   .text.fifo_get_noprotect:00000000 fifo_get_noprotect
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2378   .text.fifo_pre_read:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2384   .text.fifo_pre_read:00000000 fifo_pre_read
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2460   .text.fifo_is_empty:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2466   .text.fifo_is_empty:00000000 fifo_is_empty
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2487   .text.fifo_is_full:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2493   .text.fifo_is_full:00000000 fifo_is_full
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2514   .text.fifo_used:00000000 $t
ARM GAS  C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s 			page 74


C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2520   .text.fifo_used:00000000 fifo_used
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2539   .text.fifo_free:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2545   .text.fifo_free:00000000 fifo_free
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2564   .text.fifo_flush:00000000 $t
C:\Users\GM\AppData\Local\Temp\ccaZf2Uc.s:2570   .text.fifo_flush:00000000 fifo_flush

UNDEFINED SYMBOLS
free
malloc
memcpy
